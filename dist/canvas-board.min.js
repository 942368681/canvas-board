!function(n){var o={};function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=n,i.c=o,i.d=function(t,r,n){i.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(r,t){if(1&t&&(r=i(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var o in r)i.d(n,o,function(t){return r[t]}.bind(null,o));return n},i.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(r,"a",r),r},i.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},i.p="",i(i.s=1)}([function(r,t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?r.exports=o=function(t){return n(t)}:r.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o(t)}r.exports=o},function(t,r,n){t.exports=n(2)},function(t,r,n){(function(t){n(4),n(5),function(l,c){var h=0,g=[],p=null,t=function t(r){return new t.prototype.fn(r)};function u(t){this.dom=t,this.flag=!1;var r=this,n=null;n=l.getComputedStyle?l.getComputedStyle(r.dom,null):r.dom.currentStyle,this.maxLeft=p.clientWidth-n.width.split("px")[0]-20,this.maxTop=p.clientHeight-n.height.split("px")[0]-20,r.dom.addEventListener("mousedown",function(t){r.down(r)},!1),r.dom.addEventListener("touchstart",function(t){r.down(r)},!1)}function b(t,r){this.url=t,this.coordinate=r,this.dom=null,this.init()}(t.prototype.fn=function(t){var e=Object.assign({},t),o=["Color",{Size:{type:"dropdown"}},"Navigation",{DrawingMode:{filler:!1}}],n=function(t){var r=c.createElement("div");r.setAttribute("id","board-"+t.zIndex),r.style.cssText="position: absolute; width: 100%; height: 100%; z-index: "+t.zIndex+";",p.appendChild(r);var n=new l.DrawingBoard.Board(r.id,{background:!1,color:t.color,size:t.size,controls:o,eraserColor:"background",webStorage:"local",enlargeYourContainer:!1});n.addControl("Download"),g.push({type:"board",boardItem:n,zIndex:t.zIndex})},i=function(){var t=null;switch(e.el[0]){case"#":t=c.getElementById(e.el.substr(1));break;case".":t=c.getElementsByClassName(e.el.substr(1))[0];break;default:t=c.getElementsByTagName(e.el)[0]}return t},a=function(){var t=c.createElement("div");t.setAttribute("class","canvas-board-toolbar"),t.style.cssText="position: absolute; right: 0; bottom: -50px; height: 40px;";for(var r=0,n=e.mediaTypes.length;r<n;r++){var o=e.mediaTypes[r],i=c.createElement("div");i.setAttribute("class","canvas-board-toolbar "+o+"-btn"),i.setAttribute("data-type",o),i.style.cssText="width: 40px; height: 40px; float: left; margin-left: 18px; border-radius: 8px; background: #999; cursor: pointer;",t.appendChild(i)}t.addEventListener("click",function(t){t.target.dataset.type&&s(t.target.dataset.type,"https://s.gravatar.com/avatar/7d228fb734bde96e1bae224107cc48cb")}),p.appendChild(t)},s=function(t,r){h+=1;var n=null,o={type:"",dom:"",zIndex:""},i=d();switch(t){case"img":n=new b(r,i).dom,o.type="img",o.dom=n,o.zIndex=h;break;case"video":case"audio":return alert("暂不支持")}g.push(o),p.appendChild(n),new u(n)},d=function(){var t=p.clientWidth,r=p.clientHeight,n=[.2*t,t-.4*t],o=[.2*r,r-.4*r];return{x:Math.round(Math.random()*(n[1]-n[0])+n[0]),y:Math.round(Math.random()*(o[1]-o[0])+o[0])}};!function(){h=e.zIndexInfo.length,(p=i()).style.position="relative";for(var t=0,r=e.zIndexInfo.length;t<r;t++)n(e.zIndexInfo[t]);a()}()}).prototype={getZindex:function(){return{board:g.filter(function(t){return"board"===t.type}).length,img:g.filter(function(t){return"img"===t.type}).length,video:g.filter(function(t){return"video"===t.type}).length,audio:g.filter(function(t){return"audio"===t.type}).length,total:h}},getBoardInfo:function(){return g}},l.Board||(l.Board=t),u.prototype.down=function(t){var r;event.preventDefault(),t.flag=!0;var n=(r=event.touches?event.touches[0]:event).clientX-t.dom.offsetLeft,o=r.clientY-t.dom.offsetTop;l.addEventListener("mousemove",function(){t.move(t,n,o)},!1),l.addEventListener("touchmove",function(){t.move(t,n,o)},!1),l.addEventListener("mouseup",function(){t.end(t)},!1),l.addEventListener("touchend",function(){t.end(t)},!1)},u.prototype.move=function(t,r,n){if(t.flag){var o,i=(o=event.touches?event.touches[0]:event).clientX-r,e=o.clientY-n;i<=20?i=20:i>=t.maxLeft&&(i=t.maxLeft),e<=40?e=40:e>=t.maxTop&&(e=t.maxTop),t.dom.style.left=i+"px",t.dom.style.top=e+"px"}},u.prototype.end=function(t){t.flag=!1},b.prototype={init:function(){this.dom=c.createElement("img"),this.dom.style.cssText="width: 100px; height: 100px; border: 0; display: block; position: absolute; background: #f1f1f1; left: "+this.coordinate.x+"px; top: "+this.coordinate.y+"px; z-index: "+h,this.dom.setAttribute("src",this.url)}}}("undefined"!=typeof window?window:t,document)}).call(this,n(3))},function(t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,r,n){"use strict";n.r(r);var o,i,e=n(0),a=n.n(e);(o=function(t){var r=t||{},n={provider:function(){throw new Error("No provider!")},maxLength:30,onUpdate:function(){}};this.provider=void 0!==r.provider?r.provider:n.provider,this.maxLength=void 0!==r.maxLength?r.maxLength:n.maxLength,this.onUpdate=void 0!==r.onUpdate?r.onUpdate:n.onUpdate,this.initialItem=null,this.clear()}).prototype.initialize=function(t){this.stack[0]=t,this.initialItem=t},o.prototype.clear=function(){this.stack=[this.initialItem],this.position=0,this.onUpdate()},o.prototype.save=function(){this.provider(function(t){!function(t,r){for(;t.length>r;)t.shift()}(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1),this.stack.push(t),this.position++,this.onUpdate()}.bind(this))},o.prototype.undo=function(t){if(this.canUndo()){var r=this.stack[--this.position];this.onUpdate(),t&&t(r)}},o.prototype.redo=function(t){if(this.canRedo()){var r=this.stack[++this.position];this.onUpdate(),t&&t(r)}},o.prototype.canUndo=function(){return 0<this.position},o.prototype.canRedo=function(){return this.position<this.count()},o.prototype.count=function(){return this.stack.length-1},"undefined"!=typeof window&&(window.SimpleUndo=o),window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Utils={},
/*!
* Tim (lite)
*   github.com/premasagar/tim
*/
DrawingBoard.Utils.tpl=(i=new RegExp("{{\\s*([a-z0-9_][\\.a-z0-9_]*)\\s*}}","gi"),function(t,a){return t.replace(i,function(t,r){for(var n=r.split("."),o=n.length,i=a,e=0;e<o;e++){if(void 0===(i=i[n[e]]))throw"tim: '"+n[e]+"' not found in "+t;if(e===o-1)return i}})}),DrawingBoard.Utils.MicroEvent=function(){},DrawingBoard.Utils.MicroEvent.prototype={bind:function(t,r){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)},unbind:function(t,r){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(r),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var r=0;r<this._events[t].length;r++)this._events[t][r].apply(this,Array.prototype.slice.call(arguments,1))}},DrawingBoard.Utils._boxBorderSize=function(t,r,n,o){r=!!r||!0,n=!!n||!1;var i,e=0;"width"==o?(i=["border-left-width","border-right-width"],r&&i.push("padding-left","padding-right"),n&&i.push("margin-left","margin-right")):(i=["border-top-width","border-bottom-width"],r&&i.push("padding-top","padding-bottom"),n&&i.push("margin-top","margin-bottom"));for(var a=i.length-1;0<=a;a--)e+=parseInt(t.css(i[a]).replace("px",""),10);return e},DrawingBoard.Utils.boxBorderWidth=function(t,r,n){return DrawingBoard.Utils._boxBorderSize(t,r,n,"width")},DrawingBoard.Utils.boxBorderHeight=function(t,r,n){return DrawingBoard.Utils._boxBorderSize(t,r,n,"height")},DrawingBoard.Utils.isColor=function(t){return!(!t||!t.length)&&(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)||-1!==$.inArray(t.substring(0,3),["rgb","hsl"]))},DrawingBoard.Utils.RGBToInt=function(t,r,n){var o=0;return o|=(255&t)<<16,o|=(255&r)<<8,o|=255&n},DrawingBoard.Utils.pixelAt=function(t,r,n){var o=4*(n*t.width+r);return[o,r,n,DrawingBoard.Utils.RGBToInt(t.data[o],t.data[o+1],t.data[o+2])]},DrawingBoard.Utils.compareColors=function(t,r,n){if(0===n)return t===r;var o=t>>16&255,i=r>>16&255,e=t>>8&255,a=r>>8&255,s=255&t,d=255&r;return Math.abs(o-i)<=n&&Math.abs(e-a)<=n&&Math.abs(s-d)<=n},function(){for(var t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"]}(),window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Board=function(t,r){if(this.opts=this.mergeOptions(r),this.ev=new DrawingBoard.Utils.MicroEvent,this.id=t,this.$el=$(document.getElementById(t)),!this.$el.length)return!1;var n='<div class="drawing-board-canvas-wrapper"></canvas><canvas class="drawing-board-canvas"></canvas><div class="drawing-board-cursor drawing-board-utils-hidden"></div></div>';if(-1<this.opts.controlsPosition.indexOf("bottom")?n+='<div class="drawing-board-controls"></div>':n='<div class="drawing-board-controls"></div>'+n,this.$el.addClass("drawing-board").append(n),this.dom={$canvasWrapper:this.$el.find(".drawing-board-canvas-wrapper"),$canvas:this.$el.find(".drawing-board-canvas"),$cursor:this.$el.find(".drawing-board-cursor"),$controls:this.$el.find(".drawing-board-controls")},$.each(["left","right","center"],$.proxy(function(t,r){if(-1<this.opts.controlsPosition.indexOf(r))return this.dom.$controls.attr("data-align",r),!1},this)),this.canvas=this.dom.$canvas.get(0),this.ctx=this.canvas&&this.canvas.getContext&&this.canvas.getContext("2d")?this.canvas.getContext("2d"):null,this.color=this.opts.color,!this.ctx)return this.opts.errorMessage&&this.$el.html(this.opts.errorMessage),!1;this.storage=this._getStorage(),this.initHistory(),this.reset({webStorage:!1,history:!1,background:!1}),this.initControls(),this.resize(),this.reset({webStorage:!1,history:!1,background:!0}),this.restoreWebStorage(),this.initDropEvents(),this.initDrawEvents()},DrawingBoard.Board.defaultOpts={controls:["Color","DrawingMode","Size","Navigation"],controlsPosition:"top left",color:"#000000",size:1,background:"#fff",eraserColor:"background",fillTolerance:100,fillHack:!0,webStorage:"session",droppable:!1,enlargeYourContainer:!1,errorMessage:'<p>It seems you use an obsolete browser. <a href="http://browsehappy.com/" target="_blank">Update it</a> to start drawing.</p>',stretchImg:!1},DrawingBoard.Board.prototype={mergeOptions:function(t){return(t=$.extend({},DrawingBoard.Board.defaultOpts,t)).background||"background"!==t.eraserColor||(t.eraserColor="transparent"),t},reset:function(t){t=$.extend({color:this.opts.color,size:this.opts.size,webStorage:!0,history:!0,background:!1},t),this.setMode("pencil"),t.background&&this.resetBackground(this.opts.background,$.proxy(function(){t.history&&this.saveHistory()},this)),t.color&&this.setColor(t.color),t.size&&(this.ctx.lineWidth=t.size),this.ctx.lineCap="round",this.ctx.lineJoin="round",t.webStorage&&this.saveWebStorage(),t.history&&!t.background&&this.saveHistory(),this.blankCanvas=this.getImg(),this.ev.trigger("board:reset",t)},resetBackground:function(t,r){t=t||this.opts.background;var n=DrawingBoard.Utils.isColor(t),o=this.getMode();this.setMode("pencil"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),n?(this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.history.initialize(this.getImg()),r&&r()):t&&this.setImg(t,{callback:$.proxy(function(){this.history.initialize(this.getImg()),r&&r()},this)}),this.setMode(o)},resize:function(){var t,r;this.dom.$controls.toggleClass("drawing-board-controls-hidden",!this.controls||!this.controls.length);var n=[this.$el.width(),DrawingBoard.Utils.boxBorderWidth(this.$el),DrawingBoard.Utils.boxBorderWidth(this.dom.$canvasWrapper,!0,!0)],o=[this.$el.height(),DrawingBoard.Utils.boxBorderHeight(this.$el),this.dom.$controls.height(),DrawingBoard.Utils.boxBorderHeight(this.dom.$controls,!1,!0),DrawingBoard.Utils.boxBorderHeight(this.dom.$canvasWrapper,!0,!0)],i=function(t,r){r=r||1;for(var n=t[0],o=1;o<t.length;o++)n+=t[o]*r;return n},e=function(t){return i(t,-1)};this.opts.enlargeYourContainer?(t=this.$el.width(),r=this.$el.height(),this.$el.width(i(n)),this.$el.height(i(o))):(t=e(n),r=e(o)),this.dom.$canvasWrapper.css("width",t+"px"),this.dom.$canvasWrapper.css("height",r+"px"),this.dom.$canvas.css("width",t+"px"),this.dom.$canvas.css("height",r+"px"),this.canvas.width=t,this.canvas.height=r},initControls:function(){if(this.controls=[],!this.opts.controls.length||!DrawingBoard.Control)return!1;for(var t=0;t<this.opts.controls.length;t++){var r=null;if("string"==typeof this.opts.controls[t])r=new window.DrawingBoard.Control[this.opts.controls[t]](this);else if("object"==a()(this.opts.controls[t])){for(var n in this.opts.controls[t])break;r=new window.DrawingBoard.Control[n](this,this.opts.controls[t][n])}r&&this.addControl(r)}},addControl:function(t,r,n){if("string"!=typeof t&&("object"!==a()(t)||!t instanceof DrawingBoard.Control))return!1;var o="object"==a()(r)?r:{};n=n?1*n:"number"==typeof r?r:null,"string"==typeof t&&(t=new window.DrawingBoard.Control[t](this,o)),n?this.dom.$controls.children().eq(n).before(t.$el):this.dom.$controls.append(t.$el),this.controls||(this.controls=[]),this.controls.push(t),this.dom.$controls.removeClass("drawing-board-controls-hidden")},initHistory:function(){this.history=new SimpleUndo({maxLength:30,provider:$.proxy(function(t){t(this.getImg())},this),onUpdate:$.proxy(function(){this.ev.trigger("historyNavigation")},this)})},saveHistory:function(){this.history.save()},restoreHistory:function(t){this.setImg(t,{callback:$.proxy(function(){this.saveWebStorage()},this)})},goBackInHistory:function(){this.history.undo($.proxy(this.restoreHistory,this))},goForthInHistory:function(){this.history.redo($.proxy(this.restoreHistory,this))},setImg:function(t,i){i=$.extend({stretch:this.opts.stretchImg,callback:null},i);var e=this.ctx,a=new Image,s=e.globalCompositeOperation;a.onload=function(){if(e.globalCompositeOperation="source-over",e.clearRect(0,0,e.canvas.width,e.canvas.height),i.stretch)e.drawImage(a,0,0,e.canvas.width,e.canvas.height);else{var t,r,n=a.width,o=a.height;0<a.width/a.height-e.canvas.width/e.canvas.height?a.width>e.canvas.width&&(n=e.canvas.width,o=a.height/(a.width/e.canvas.width)):a.height>e.canvas.height&&(o=e.canvas.height,n=a.width/(a.height/e.canvas.height)),t=(e.canvas.width-n)/2,r=(e.canvas.height-o)/2,e.drawImage(a,t,r,n,o)}e.globalCompositeOperation=s,i.callback&&i.callback()},a.src=t},getImg:function(){return this.canvas.toDataURL("image/png")},downloadImg:function(){var t=this.getImg();t=t.replace("image/png","image/octet-stream"),window.location.href=t},saveWebStorage:function(){window[this.storage]&&(window[this.storage].setItem("drawing-board-"+this.id,this.getImg()),this.ev.trigger("board:save"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),this.getImg()))},restoreWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(this.setImg(window[this.storage].getItem("drawing-board-"+this.id)),this.ev.trigger("board:restore"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),window[this.storage].getItem("drawing-board-"+this.id)))},clearWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(window[this.storage].removeItem("drawing-board-"+this.id),this.ev.trigger("board:clear"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1)))},_getStorage:function(){return!(!this.opts.webStorage||"session"!==this.opts.webStorage&&"local"!==this.opts.webStorage)&&this.opts.webStorage+"Storage"},initDropEvents:function(){if(!this.opts.droppable)return!1;this.dom.$canvas.on("dragover dragenter drop",function(t){t.stopPropagation(),t.preventDefault()}),this.dom.$canvas.on("drop",$.proxy(this._onCanvasDrop,this))},_onCanvasDrop:function(t){var r=(t=t.originalEvent?t.originalEvent:t).dataTransfer.files;if(!r||!r.length||-1==r[0].type.indexOf("image")||!window.FileReader)return!1;var n=new FileReader;n.readAsDataURL(r[0]),n.onload=$.proxy(function(t){this.setImg(t.target.result,{callback:$.proxy(function(){this.saveHistory()},this)}),this.ev.trigger("board:imageDropped",t.target.result),this.ev.trigger("board:userAction")},this)},setMode:function(t,r){r=r||!1,t=t||"pencil",this.ev.unbind("board:startDrawing",$.proxy(this.fill,this)),"transparent"===this.opts.eraserColor?this.ctx.globalCompositeOperation="eraser"===t?"destination-out":"source-over":("eraser"===t?"background"===this.opts.eraserColor&&DrawingBoard.Utils.isColor(this.opts.background)?this.ctx.strokeStyle=this.opts.background:DrawingBoard.Utils.isColor(this.opts.eraserColor)&&(this.ctx.strokeStyle=this.opts.eraserColor):this.mode&&"eraser"!==this.mode||(this.ctx.strokeStyle=this.color),"filler"===t&&this.ev.bind("board:startDrawing",$.proxy(this.fill,this))),this.mode=t,r||this.ev.trigger("board:mode",this.mode)},getMode:function(){return this.mode||"pencil"},setColor:function(t){var n=this;if(t=t||this.color,!DrawingBoard.Utils.isColor(t))return!1;if(this.color=t,"transparent"!==this.opts.eraserColor&&"eraser"===this.mode){this.ev.bind("board:mode",function t(r){"eraser"!==r&&(n.strokeStyle=n.color),n.ev.unbind("board:mode",t)})}else this.ctx.strokeStyle=this.color},fill:function(t){if(this.getImg()===this.blankCanvas)return this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle=this.color,void this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);var r=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),n=0,o=this.ctx.strokeStyle,i=parseInt(o.substr(1,2),16),e=parseInt(o.substr(3,2),16),a=parseInt(o.substr(5,2),16),s=DrawingBoard.Utils.pixelAt(r,parseInt(t.coords.x,10),parseInt(t.coords.y,10)),d=s[3],l=this.opts.fillTolerance,c=this.opts.fillHack;if(!DrawingBoard.Utils.compareColors(d,DrawingBoard.Utils.RGBToInt(i,e,a),l)){for(var h,g=[s],p=r.width-1,u=r.height-1;h=g.pop();)c&&b(h),DrawingBoard.Utils.compareColors(h[3],d,l)&&(c||b(h),0<h[1]&&g.push(DrawingBoard.Utils.pixelAt(r,h[1]-1,h[2])),h[1]<p&&g.push(DrawingBoard.Utils.pixelAt(r,h[1]+1,h[2])),0<h[2]&&g.push(DrawingBoard.Utils.pixelAt(r,h[1],h[2]-1)),h[2]<u&&g.push(DrawingBoard.Utils.pixelAt(r,h[1],h[2]+1)));this.ctx.putImageData(r,0,0)}function b(t){r.data[t[n]]=i,r.data[t[n]+1]=e,r.data[t[n]+2]=a}},initDrawEvents:function(){this.isDrawing=!1,this.isMouseHovering=!1,this.coords={},this.coords.old=this.coords.current=this.coords.oldMid={x:0,y:0},this.dom.$canvas.on("mousedown touchstart",$.proxy(function(t){this._onInputStart(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mousemove touchmove",$.proxy(function(t){this._onInputMove(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mousemove",$.proxy(function(t){},this)),this.dom.$canvas.on("mouseup touchend",$.proxy(function(t){this._onInputStop(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mouseover",$.proxy(function(t){this._onMouseOver(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mouseout",$.proxy(function(t){this._onMouseOut(t,this._getInputCoords(t))},this)),$("body").on("mouseup touchend",$.proxy(function(t){this.isDrawing=!1},this)),window.requestAnimationFrame&&requestAnimationFrame($.proxy(this.draw,this))},draw:function(){if(window.requestAnimationFrame&&10<this.ctx.lineWidth&&this.isMouseHovering){this.dom.$cursor.css({width:this.ctx.lineWidth+"px",height:this.ctx.lineWidth+"px"});var t=DrawingBoard.Utils.tpl("translateX({{x}}px) translateY({{y}}px)",{x:this.coords.current.x-this.ctx.lineWidth/2,y:this.coords.current.y-this.ctx.lineWidth/2});this.dom.$cursor.css({transform:t,"-webkit-transform":t,"-ms-transform":t}),this.dom.$cursor.removeClass("drawing-board-utils-hidden")}else this.dom.$cursor.addClass("drawing-board-utils-hidden");if(this.isDrawing){var r=this._getMidInputCoords(this.coords.current);this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y),this.ctx.quadraticCurveTo(this.coords.old.x,this.coords.old.y,this.coords.oldMid.x,this.coords.oldMid.y),this.ctx.stroke(),this.coords.old=this.coords.current,this.coords.oldMid=r}window.requestAnimationFrame&&requestAnimationFrame($.proxy(function(){this.draw()},this))},_onInputStart:function(t,r){this.coords.current=this.coords.old=r,this.coords.oldMid=this._getMidInputCoords(r),this.isDrawing=!0,window.requestAnimationFrame||this.draw(),this.ev.trigger("board:startDrawing",{e:t,coords:r}),t.stopPropagation(),t.preventDefault()},_onInputMove:function(t,r){this.coords.current=r,this.ev.trigger("board:drawing",{e:t,coords:r}),window.requestAnimationFrame||this.draw(),t.stopPropagation(),t.preventDefault()},_onInputStop:function(t,r){!this.isDrawing||t.touches&&0!==t.touches.length||(this.isDrawing=!1,this.saveWebStorage(),this.saveHistory(),this.ev.trigger("board:stopDrawing",{e:t,coords:r}),this.ev.trigger("board:userAction"),t.stopPropagation(),t.preventDefault())},_onMouseOver:function(t,r){this.isMouseHovering=!0,this.coords.old=this._getInputCoords(t),this.coords.oldMid=this._getMidInputCoords(this.coords.old),this.ev.trigger("board:mouseOver",{e:t,coords:r})},_onMouseOut:function(t,r){this.isMouseHovering=!1,this.ev.trigger("board:mouseOut",{e:t,coords:r})},_getInputCoords:function(t){t=t.originalEvent?t.originalEvent:t;var r,n,o=this.canvas.getBoundingClientRect(),i=this.dom.$canvas.width(),e=this.dom.$canvas.height();return n=t.touches&&1==t.touches.length?(r=t.touches[0].pageX,t.touches[0].pageY):(r=t.pageX,t.pageY),r-=this.dom.$canvas.offset().left,n-=this.dom.$canvas.offset().top,{x:r*=i/o.width,y:n*=e/o.height}},_getMidInputCoords:function(t){return{x:this.coords.old.x+t.x>>1,y:this.coords.old.y+t.y>>1}}},DrawingBoard.Control=function(t,r){return this.board=t,this.opts=$.extend({},this.defaults,r),this.$el=$(document.createElement("div")).addClass("drawing-board-control"),this.name&&this.$el.addClass("drawing-board-control-"+this.name),this.board.ev.bind("board:reset",$.proxy(this.onBoardReset,this)),this.initialize.apply(this,arguments),this},DrawingBoard.Control.prototype={name:"",defaults:{},initialize:function(){},addToBoard:function(){this.board.addControl(this)},onBoardReset:function(t){}},DrawingBoard.Control.extend=function(t,r){var n,o=this;n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return o.apply(this,arguments)},$.extend(n,o,r);var i=function(){this.constructor=n};return i.prototype=o.prototype,n.prototype=new i,t&&$.extend(n.prototype,t),n.__super__=o.prototype,n},DrawingBoard.Control.Color=DrawingBoard.Control.extend({name:"colors",initialize:function(){this.initTemplate();var e=this;this.$el.on("click",".drawing-board-control-colors-picker",function(t){var r=$(this).attr("data-color");e.board.setColor(r),e.$el.find(".drawing-board-control-colors-current").css("background-color",r).attr("data-color",r),e.board.ev.trigger("color:changed",r),e.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden"),t.preventDefault()}),this.$el.on("click",".drawing-board-control-colors-current",function(t){e.$el.find(".drawing-board-control-colors-rainbows").toggleClass("drawing-board-utils-hidden"),t.preventDefault()}),$("body").on("click",function(t){var r=$(t.target),n=r.hasClass("drawing-board-control-colors-current")?r:r.closest(".drawing-board-control-colors-current"),o=e.$el.find(".drawing-board-control-colors-current"),i=e.$el.find(".drawing-board-control-colors-rainbows");n.length&&n.get(0)===o.get(0)||i.hasClass("drawing-board-utils-hidden")||i.addClass("drawing-board-utils-hidden")})},initTemplate:function(){var i='<div class="drawing-board-control-colors-picker" data-color="{{color}}" style="background-color: {{color}}"></div>',e="";$.each([.75,.5,.25],$.proxy(function(t,r){var n=0,o=null;for(e+='<div class="drawing-board-control-colors-rainbow">',.25==r&&(o=this._rgba(0,0,0,1)),.5==r&&(o=this._rgba(150,150,150,1)),.75==r&&(o=this._rgba(255,255,255,1)),e+=DrawingBoard.Utils.tpl(i,{color:o.toString()});n<=330;)e+=DrawingBoard.Utils.tpl(i,{color:this._hsl2Rgba(this._hsl(n-60,1,r)).toString()}),n+=30;e+="</div>"},this)),this.$el.append($(DrawingBoard.Utils.tpl('<div class="drawing-board-control-inner"><div class="drawing-board-control-colors-current" style="background-color: {{color}}" data-color="{{color}}"></div><div class="drawing-board-control-colors-rainbows">{{rainbows}}</div></div>',{color:this.board.color,rainbows:e}))),this.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden")},onBoardReset:function(t){this.board.setColor(this.$el.find(".drawing-board-control-colors-current").attr("data-color"))},_rgba:function(t,r,n,o){return{r:t,g:r,b:n,a:o,toString:function(){return"rgba("+t+", "+r+", "+n+", "+o+")"}}},_hsl:function(t,r,n){return{h:t,s:r,l:n,toString:function(){return"hsl("+t+", "+100*r+"%, "+100*n+"%)"}}},_hex2Rgba:function(t){var r=parseInt(t.substring(1),16);return this._rgba(r>>16,r>>8&255,255&r,1)},_hsl2Rgba:function(t){var r,n,o,i=t.h/360,e=t.s,a=t.l;function s(t,r,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(r-t)*n:n<.5?r:n<2/3?t+(r-t)*(2/3-n)*6:t}if(0===e)r=n=o=a;else{var d=a<.5?a*(1+e):a+e-a*e,l=2*a-d;r=Math.floor(255*s(l,d,i+1/3)),n=Math.floor(255*s(l,d,i)),o=Math.floor(255*s(l,d,i-1/3))}return this._rgba(r,n,o,1)}}),DrawingBoard.Control.DrawingMode=DrawingBoard.Control.extend({name:"drawingmode",defaults:{pencil:!0,eraser:!0,filler:!0},initialize:function(){this.prevMode=this.board.getMode(),$.each(["pencil","eraser","filler"],$.proxy(function(t,r){this.opts[r]&&this.$el.append('<button class="drawing-board-control-drawingmode-'+r+'-button" data-mode="'+r+'"></button>')},this)),this.$el.on("click","button[data-mode]",$.proxy(function(t){var r=$(t.currentTarget).attr("data-mode"),n=this.board.getMode();n!==r&&(this.prevMode=n);var o=n===r?this.prevMode:r;this.board.setMode(o),t.preventDefault()},this)),this.board.ev.bind("board:mode",$.proxy(function(t){this.toggleButtons(t)},this)),this.toggleButtons(this.board.getMode())},toggleButtons:function(o){this.$el.find("button[data-mode]").each(function(t,r){var n=$(r);n.toggleClass("active",o===n.attr("data-mode"))})}}),DrawingBoard.Control.Navigation=DrawingBoard.Control.extend({name:"navigation",defaults:{back:!0,forward:!0,reset:!0},initialize:function(){var t="";if(this.opts.back&&(t+='<button class="drawing-board-control-navigation-back">&larr;</button>'),this.opts.forward&&(t+='<button class="drawing-board-control-navigation-forward">&rarr;</button>'),this.opts.reset&&(t+='<button class="drawing-board-control-navigation-reset">&times;</button>'),this.$el.append(t),this.opts.back){var r=this.$el.find(".drawing-board-control-navigation-back");this.board.ev.bind("historyNavigation",$.proxy(this.updateBack,this,r)),this.$el.on("click",".drawing-board-control-navigation-back",$.proxy(function(t){this.board.goBackInHistory(),t.preventDefault()},this)),this.updateBack(r)}if(this.opts.forward){var n=this.$el.find(".drawing-board-control-navigation-forward");this.board.ev.bind("historyNavigation",$.proxy(this.updateForward,this,n)),this.$el.on("click",".drawing-board-control-navigation-forward",$.proxy(function(t){this.board.goForthInHistory(),t.preventDefault()},this)),this.updateForward(n)}this.opts.reset&&this.$el.on("click",".drawing-board-control-navigation-reset",$.proxy(function(t){this.board.reset({background:!0}),t.preventDefault()},this))},updateBack:function(t){this.board.history.canUndo()?t.removeAttr("disabled"):t.attr("disabled","disabled")},updateForward:function(t){this.board.history.canRedo()?t.removeAttr("disabled"):t.attr("disabled","disabled")}}),DrawingBoard.Control.Size=DrawingBoard.Control.extend({name:"size",defaults:{type:"auto",dropdownValues:[1,3,6,10,20,30,40,50],min:1,max:50},types:["dropdown","range"],initialize:function(){"auto"==this.opts.type&&(this.opts.type=this._iHasRangeInput()?"range":"dropdown");var t=-1<$.inArray(this.opts.type,this.types)&&this["_"+this.opts.type+"Template"]();if(!t)return!1;this.val=this.board.opts.size,this.$el.append($(t)),this.$el.attr("data-drawing-board-type",this.opts.type),this.updateView();var r=this;"range"==this.opts.type&&this.$el.on("change",".drawing-board-control-size-range-input",function(t){r.val=$(this).val(),r.updateView(),r.board.ev.trigger("size:changed",r.val),t.preventDefault()}),"dropdown"==this.opts.type&&(this.$el.on("click",".drawing-board-control-size-dropdown-current",$.proxy(function(t){this.$el.find(".drawing-board-control-size-dropdown").toggleClass("drawing-board-utils-hidden")},this)),this.$el.on("click","[data-size]",function(t){r.val=parseInt($(this).attr("data-size"),0),r.updateView(),r.board.ev.trigger("size:changed",r.val),t.preventDefault()}))},_rangeTemplate:function(){return DrawingBoard.Utils.tpl('<div class="drawing-board-control-inner" title="{{size}}"><input type="range" min="{{min}}" max="{{max}}" value="{{size}}" step="1" class="drawing-board-control-size-range-input"><span class="drawing-board-control-size-range-current"></span></div>',{min:this.opts.min,max:this.opts.max,size:this.board.opts.size})},_dropdownTemplate:function(){var n='<div class="drawing-board-control-inner" title="{{size}}"><div class="drawing-board-control-size-dropdown-current"><span></span></div><ul class="drawing-board-control-size-dropdown">';return $.each(this.opts.dropdownValues,function(t,r){n+=DrawingBoard.Utils.tpl('<li data-size="{{size}}"><span style="width: {{size}}px; height: {{size}}px; border-radius: {{size}}px;"></span></li>',{size:r})}),n+="</ul></div>"},onBoardReset:function(t){this.updateView()},updateView:function(){var n=this.val;if(this.board.ctx.lineWidth=n,this.$el.find(".drawing-board-control-size-range-current, .drawing-board-control-size-dropdown-current span").css({width:n+"px",height:n+"px",borderRadius:n+"px",marginLeft:-1*n/2+"px",marginTop:-1*n/2+"px"}),this.$el.find(".drawing-board-control-inner").attr("title",n),"dropdown"==this.opts.type){var o=null;$.each(this.opts.dropdownValues,function(t,r){(null===o||Math.abs(r-n)<Math.abs(o-n))&&(o=r)}),this.$el.find(".drawing-board-control-size-dropdown").addClass("drawing-board-utils-hidden")}},_iHasRangeInput:function(){var t,r=document.createElement("input"),n=document.documentElement;return r.setAttribute("type","range"),t="text"!==r.type,r.value=":)",r.style.cssText="position:absolute;visibility:hidden;",/^range$/.test("range")&&void 0!==r.style.WebkitAppearance&&(n.appendChild(r),defaultView=document.defaultView,t=defaultView.getComputedStyle&&"textfield"!==defaultView.getComputedStyle(r,null).WebkitAppearance&&0!==r.offsetHeight,n.removeChild(r)),!!t}}),DrawingBoard.Control.Download=DrawingBoard.Control.extend({name:"download",initialize:function(){this.$el.append('<button class="drawing-board-control-download-button"></button>'),this.$el.on("click",".drawing-board-control-download-button",$.proxy(function(t){this.board.downloadImg(),t.preventDefault()},this))}})},function(t,r,n){var o=n(6);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(8)(o,i);o.locals&&(t.exports=o.locals)},function(t,r,n){(t.exports=n(7)(!1)).push([t.i,'/* drawingboard.js v0.4.6 - https://github.com/Leimi/drawingboard.js\r\n* Copyright (c) 2015 Emmanuel Pelletier\r\n* Licensed MIT */\r\n\r\n.drawing-board,\r\n.drawing-board * {\r\n    -webkit-box-sizing: content-box;\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box\r\n}\r\n\r\n.drawing-board-controls-hidden,\r\n.drawing-board-utils-hidden {\r\n    display: none !important\r\n}\r\n\r\n.drawing-board {\r\n    position: relative;\r\n    display: block\r\n}\r\n\r\n.drawing-board-canvas-wrapper {\r\n    position: relative;\r\n    margin: 0;\r\n    border: 1px solid #ddd\r\n}\r\n\r\n.drawing-board-canvas {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: auto;\r\n    cursor: crosshair;\r\n    z-index: 20\r\n}\r\n\r\n.drawing-board-cursor {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    pointer-events: none;\r\n    border-radius: 50%;\r\n    background: #ccc;\r\n    background: rgba(0, 0, 0, .2);\r\n    z-index: 30\r\n}\r\n\r\n.drawing-board-control-colors-rainbows,\r\n.drawing-board-control-size .drawing-board-control-inner,\r\n.drawing-board-control-size-dropdown,\r\n.drawing-board-control>button {\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n    background-color: #eee;\r\n    padding: 2px 4px;\r\n    border: 1px solid #ccc;\r\n    box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\r\n    -webkit-box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\r\n    height: 28px\r\n}\r\n\r\n.drawing-board-control>button {\r\n    cursor: pointer;\r\n    min-width: 28px;\r\n    line-height: 14px\r\n}\r\n\r\n.drawing-board-control>button:focus,\r\n.drawing-board-control>button:hover {\r\n    background-color: #ddd\r\n}\r\n\r\n.drawing-board-control>button.active,\r\n.drawing-board-control>button:active {\r\n    box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, .2);\r\n    -webkit-box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, .2);\r\n    background-color: #ddd\r\n}\r\n\r\n.drawing-board-control>button[disabled] {\r\n    color: gray\r\n}\r\n\r\n.drawing-board-control>button[disabled].active,\r\n.drawing-board-control>button[disabled]:active,\r\n.drawing-board-control>button[disabled]:focus,\r\n.drawing-board-control>button[disabled]:hover {\r\n    background-color: #eee;\r\n    box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\r\n    -webkit-box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\r\n    cursor: default\r\n}\r\n\r\n.drawing-board-controls {\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    font-size: 0;\r\n    display: table;\r\n    border-spacing: 9.33px 0;\r\n    position: relative;\r\n    min-height: 28px\r\n}\r\n\r\n.drawing-board-controls[data-align=left] {\r\n    margin: 0;\r\n    left: -9.33px\r\n}\r\n\r\n.drawing-board-controls[data-align=right] {\r\n    margin: 0 0 0 auto;\r\n    right: -9.33px\r\n}\r\n\r\n.drawing-board-canvas-wrapper+.drawing-board-controls,\r\n.drawing-board-controls+.drawing-board-canvas-wrapper {\r\n    margin-top: 5px\r\n}\r\n\r\n.drawing-board-controls-hidden {\r\n    height: 0;\r\n    min-height: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    border: 0\r\n}\r\n\r\n.drawing-board-control {\r\n    display: table-cell;\r\n    border-collapse: separate;\r\n    vertical-align: middle;\r\n    font-size: 16px;\r\n    height: 100%\r\n}\r\n\r\n.drawing-board-control-inner {\r\n    position: relative;\r\n    height: 100%;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box\r\n}\r\n\r\n.drawing-board-control>button {\r\n    margin: 0;\r\n    vertical-align: middle\r\n}\r\n\r\n.drawing-board-control-colors {\r\n    font-size: 0;\r\n    line-height: 0\r\n}\r\n\r\n.drawing-board-control-colors-current {\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    width: 26px;\r\n    height: 26px\r\n}\r\n\r\n.drawing-board-control-colors-rainbows {\r\n    display: inline-block;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 33px;\r\n    margin-left: 0;\r\n    z-index: 100;\r\n    width: 250px;\r\n    height: auto;\r\n    padding: 4px\r\n}\r\n\r\n.drawing-board-control-colors-rainbow {\r\n    height: 18px\r\n}\r\n\r\n.drawing-board-control-colors-picker:first-child {\r\n    margin-right: 5px\r\n}\r\n\r\n.drawing-board-control-colors-picker {\r\n    display: inline-block;\r\n    width: 18px;\r\n    height: 18px;\r\n    cursor: pointer\r\n}\r\n\r\n.drawing-board-control-colors-picker[data-color="rgba(255, 255, 255, 1)"] {\r\n    width: 16px;\r\n    height: 17px;\r\n    border: 1px solid #ccc;\r\n    border-bottom: none\r\n}\r\n\r\n.drawing-board-control-colors-picker:hover {\r\n    width: 16px;\r\n    height: 16px;\r\n    border: 1px solid #555\r\n}\r\n\r\n.drawing-board-control-drawingmode>button {\r\n    margin-right: 2px\r\n}\r\n\r\n.drawing-board-control-drawingmode>button:last-child {\r\n    margin-right: 0\r\n}\r\n\r\n.drawing-board-control-drawingmode-pencil-button {\r\n    overflow: hidden;\r\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNpiZAACVlFRBhYREQZcQPnbNwa3N28YlL5+ZfgLFfvPwGD9m4FhIgsDHuAO0gTUDNKIBvyBmqt/MTDMY8Gl0f31azD7L6oUIxCnAzWmAPHBfwwM01AMUAV6JfPQIVwOYgVqqPnFyOjz6///O38YGKpAgmAD1OXlGdTk5PD5hgeouZudj8/uy9evP/78/dsFFPsJNiAoKIiBABAHap4oLi9v8fTNm48//v7NBwbgWZgkE7rqt8DY+A8JZRBW+cfIuEDT0NDlzadP3z98/doPFDuCrB7TAGFhBqCNIGwM9OcKUzs7+xdv3355+f79VqDYAiTDwZgJh7ONgYpnOvn4GL949erT7UePdgL5JVCD4fgBLBBxaX74+PG789evnwby0/8jKXgExIeB+CG6Af///1e9Ki9vFSAkZPzoyZPPJy9evA9MB77/sWiEARZkzV+/fvXYtGnTpG3btj28EBT0BqjZ5D8OjXCwPksUhA1Wpggf/PHjx/9169Y9EBERaUlgZmaIAcrLE4rk5sIqBqDmlefnRPzfWGX5EaSZm5ubgRloADGA5QZ3RgK7gESY4PMNn9ZtObPpzZvfU4DiYkiB/RcHG+S7fyxAMH/lFU2GOZd2bLx18/cEUMoD4j9I+DcS/RtJHGTYf4AAAwAxaOMYHjxKFwAAAABJRU5ErkJggg==);\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat\r\n}\r\n\r\n.drawing-board-control-drawingmode-pencil-button:before {\r\n    content: "";\r\n    display: block;\r\n    width: 0;\r\n    height: 100%\r\n}\r\n\r\n.drawing-board-control-drawingmode-eraser-button {\r\n    overflow: hidden;\r\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkpJREFUeNp0kk+IElEcx39vFBc9+OfQRTAwzFt4CaYOKStj6MoeculStzoIQSB4kCVckmDx4iGCXWYJIqjoVOzO1l4qT1F7WfBWHvxzDPyTB3XUmXn93suRybUffHmP997n9/cRsFgwGARJkiAcDsPlwgEIeEZQAhCRAkgAlOD6SQP4rgMFDWVnYCAQgFgsBqFQCBwOByzZNQOotPHx1RNCCCipu6bfb+zSnslkeOQVILPrBkAirbws9btdTEWAzZPXpfepOzaeGMBXwe/3w3+MwTc3Dl+UeghTiskbBvR6Pbh18mZHB0jjmxvCKhIfR37s3r+Sevf8ca/T4TBF2HTSODuDxP7uNjrZFFbBk8lEzOVyspa4ykGYw2zfbTb/7ilvok1YhlVVFfP5vDydTkHXdXDdlhZOOnPY4/HA0YPtp3h6LFjh8XgsFgoFGTPgsKm1zDr8ajTQh8Fh5eGjZzjGI8yjKlgjF4tFGdd/YKYmRja24hw+zu3sYe2HiH3hYzQjl8tleTQanWtou93G6Qngdrth6+1+9h6hTULJZ/PeziJXKhV5OByeg1ut1gJOp9NZTdNOcQ419ot+ggp1qoLdBFmqVmNpm3A8Huewy+Wq1RH8QH9zmBlJJpMRdCIqiiIPBgN+2MCGsW/r8/kgGo1m0fmpzWarseayHlmNeL1eFiWC0cRqtSr3+/3FpSiKHMZtjU1glbFyfKgLTqfzEka9OJvNeDnzz1JnCaFmqOl8ZdJY1SiDOXCiXKg1NtG5DIt0y6ov3dE/AgwAENFWYYLj4mYAAAAASUVORK5CYII=);\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat\r\n}\r\n\r\n.drawing-board-control-drawingmode-eraser-button:before {\r\n    content: "";\r\n    display: block;\r\n    width: 0;\r\n    height: 100%\r\n}\r\n\r\n.drawing-board-control-drawingmode-filler-button {\r\n    overflow: hidden;\r\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnNJREFUeNp0k0trE1EUx89MJpNJooYYXBgDNtCKdRPwlbqoCKUtaNVNA0Uo7UbMxoVPEARTXEi+QWfnwn6DEAlEkrSLttTGRiULEQlJ8yChmbzI++E50yTUJA78uMy953/u/557LmOz2WDEZ2m1WrckSRJSqdR2tVrdHQyYebwHtVoNuFHqTqczhQnWKaBYLDoKhcIuzgHDMKBSqeD20qd+LNdsNocSoFhRr9ctpVLJigl4xIIJQizLAmG4cAPa7bYcy9Iug5TL5UYikbD6/X7Rbre/IUcYe3WUW5ZsnQQzW9LpNOPz+UQc5aBM5mgdh7vI9FCCAesW2tnr9YqZTAby+bw8f3AQRP6853n+Ph5hemSCntjj8YjZbFYWx2IxeS2RSEMwuA87O79eqdXquVolK+GxnP0EPbHb7RZJSGABIR6PA11zJHKIR2MhHA5DIPDj7eH3j95KpfK60Wg8Yntil8slkqgnpioLghacTidoNDpEC3q9HnheCc3s1jZeLcW943pirPw/4lKpBkqlDubnl/riycnLsLy88EKj0fhzuRyZv8RFo1E6wpBYkiqy7Z54YmIcVlYeyOKC4mYwJ0nHRaQuM5vNT6hB/iceG7sIq6sPnwmC4MerDkby40AOCCoiddie1Wp92W7zQ2KTyQSLizNP8T0EsPLBbxEDnCj0GkM2qIEwyZRCobizsfH5A1ZXFhuN52F29vpz3HkL574mk8lj24Y5wsHkvjjoX0BOIWc5jruHzbK2ufmzEwpFO3jnDhQv4JoROYdoERVyGjEgZ8iBDlF3FzXo4go6utZ9lftY4N/dXisjR0i1G0ublv8KMAA0ZoUlicxrhwAAAABJRU5ErkJggg==);\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat\r\n}\r\n\r\n.drawing-board-control-drawingmode-filler-button:before {\r\n    content: "";\r\n    display: block;\r\n    width: 0;\r\n    height: 100%\r\n}\r\n\r\n.drawing-board-control-navigation>button {\r\n    font-family: Helvetica, Arial, sans-serif;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    margin-right: 2px\r\n}\r\n\r\n.drawing-board-control-navigation>button:last-child {\r\n    margin-right: 0\r\n}\r\n\r\n.drawing-board-control-size[data-drawing-board-type=range] .drawing-board-control-inner {\r\n    width: 75px\r\n}\r\n\r\n.drawing-board-control-size[data-drawing-board-type=dropdown] .drawing-board-control-inner {\r\n    overflow: visible\r\n}\r\n\r\n.drawing-board-control-size-range-input {\r\n    position: relative;\r\n    width: 100%;\r\n    z-index: 100;\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0\r\n}\r\n\r\n.drawing-board-control-size-dropdown span,\r\n.drawing-board-control-size-dropdown-current span,\r\n.drawing-board-control-size-range-current {\r\n    display: block;\r\n    background: #333;\r\n    opacity: .8\r\n}\r\n\r\n.drawing-board-control-size-range-current {\r\n    display: inline-block;\r\n    opacity: .15;\r\n    position: absolute;\r\n    pointer-events: none;\r\n    left: 50%;\r\n    top: 50%;\r\n    z-index: 50\r\n}\r\n\r\n.drawing-board-control-size-dropdown-current {\r\n    display: block;\r\n    height: 100%;\r\n    width: 40px;\r\n    overflow: hidden;\r\n    position: relative\r\n}\r\n\r\n.drawing-board-control-size-dropdown-current span {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%\r\n}\r\n\r\n.drawing-board-control-size-dropdown {\r\n    position: absolute;\r\n    left: -6px;\r\n    top: 33px;\r\n    height: auto;\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    z-index: 100\r\n}\r\n\r\n.drawing-board-control-size-dropdown li {\r\n    display: block;\r\n    padding: 4px;\r\n    margin: 3px 0;\r\n    min-height: 16px\r\n}\r\n\r\n.drawing-board-control-size-dropdown li:hover {\r\n    background: #ccc\r\n}\r\n\r\n.drawing-board-control-size-dropdown span {\r\n    margin: 0 auto\r\n}\r\n\r\n.drawing-board-control-download-button {\r\n    overflow: hidden;\r\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoBJREFUeNqMkr9PU1EUx7/vR1tQ3yu10hAmTawtBSYSy2YccFOcnDQm/gewOLnj5GYMg4sdXFxkMca4OBAwdUBe/ZkIGFp+9tHXvh/3/fTcAm01aLzJybnn3nM+95tzrnDl6Tb+sibuTmWUWj3C6/Juk+LySUmyvt0FCKKA02ryOCy6LBiu15ngMbZ5DDCNBqIw6gKM+n4nECUJru3glKry8CpjQaHVYmC2rVH82DIMMMdGGARdwJ+SPNdFS9chx+MXDNMp/NzagWNatk/nQU/hiYAoih6FYTBCBs9zUXMCbAhx2OYOv351lPOJ3EwH4LteL6Dcp/Rfu3FrstDyIizt+agpaYxNDU0M9gl4v7Ck+TYrCYLQqZHUyTtdQBiutPSGUflczSXHs5lVKwZdSOBMvwztxVvN0RtzsiyXBFHsAvL5PBSnCpXV2getILFiE2SjspYbuZzPiDSZ2vOXmlvX5yQqTmMfg9ZXqtls1wnT09OHEyAq0aFLg/gSXsSWq9wWk+p9PrCoYTwcijdLOfE7UsEufN9HGIYnT4EnTGIXe1KqtNNIvuNnGamxfi7SgQD/nIJCTbzOPQ/SQh1pud7T4M6W/8qFIw/5WAr5m7Ozsw9UVc069Fls2yJzSC5/lnc9RhaHZVnfSqUnEgXP2oBqtYqBgYG2+mKxmOVADnAcB4yxHgD1RzehKKns/LyV4gUHBweQy+UyRkdH6UKJ6fQDFxcXoWkaXJeRuTgUGCdLQJ9bx72lGZimGWs2m+083oN+2iiFQiGxvLy8RrDzudyltgrG3N8U2G8CrPz4sGYYRqJSqWR4H/jNWbJhUjAWi8XG8R/L87yPpGCVttVfAgwAVpZR+8tZC08AAAAASUVORK5CYII=);\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat\r\n}\r\n\r\n.drawing-board-control-download-button:before {\r\n    content: "";\r\n    display: block;\r\n    width: 0;\r\n    height: 100%\r\n}',""])},function(t,r,n){"use strict";t.exports=function(n){var a=[];return a.toString=function(){return this.map(function(t){var r=function(t,r){var n=t[1]||"",o=t[3];if(!o)return n;if(r&&"function"==typeof btoa){var i=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(e).concat([i]).join("\n")}var a;return[n].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},a.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<t.length;o++){var e=t[o];null!=e[0]&&n[e[0]]||(r&&!e[2]?e[2]=r:r&&(e[2]="("+e[2]+") and ("+r+")"),a.push(e))}},a}},function(t,r,o){var n,i,e,d={},l=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=(e={},function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,r){return r?r.querySelector(t):document.querySelector(t)}.call(this,t,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}),c=null,h=0,s=[],g=o(9);function p(t,r){for(var n=0;n<t.length;n++){var o=t[n],i=d[o.id];if(i){i.refs++;for(var e=0;e<i.parts.length;e++)i.parts[e](o.parts[e]);for(;e<o.parts.length;e++)i.parts.push(m(o.parts[e],r))}else{var a=[];for(e=0;e<o.parts.length;e++)a.push(m(o.parts[e],r));d[o.id]={id:o.id,refs:1,parts:a}}}}function u(t,r){for(var n=[],o={},i=0;i<t.length;i++){var e=t[i],a=r.base?e[0]+r.base:e[0],s={css:e[1],media:e[2],sourceMap:e[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function b(t,r){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=s[s.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(r,o.nextSibling):n.appendChild(r):n.insertBefore(r,n.firstChild),s.push(r);else if("bottom"===t.insertAt)n.appendChild(r);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(r,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var r=s.indexOf(t);0<=r&&s.splice(r,1)}function w(t){var r=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return o.nc}();n&&(t.attrs.nonce=n)}return v(r,t.attrs),b(t,r),r}function v(r,n){Object.keys(n).forEach(function(t){r.setAttribute(t,n[t])})}function m(r,t){var n,o,i,e,a,s;if(t.transform&&r.css){if(!(e="function"==typeof t.transform?t.transform(r.css):t.transform.default(r.css)))return function(){};r.css=e}if(t.singleton){var d=h++;n=c||(c=w(t)),o=A.bind(null,n,d,!1),i=A.bind(null,n,d,!0)}else i=r.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=t,s=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",v(s,a.attrs),b(a,s),o=function(t,r,n){var o=n.css,i=n.sourceMap,e=void 0===r.convertToAbsoluteUrls&&i;(r.convertToAbsoluteUrls||e)&&(o=g(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n=s,t),function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=w(t),o=function(t,r){var n=r.css,o=r.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){f(n)});return o(r),function(t){if(t){if(t.css===r.css&&t.media===r.media&&t.sourceMap===r.sourceMap)return;o(r=t)}else i()}}t.exports=function(t,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=l()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=u(t,a);return p(s,a),function(t){for(var r=[],n=0;n<s.length;n++){var o=s[n];(i=d[o.id]).refs--,r.push(i)}t&&p(u(t,a),a);for(n=0;n<r.length;n++){var i;if(0===(i=r[n]).refs){for(var e=0;e<i.parts.length;e++)i.parts[e]();delete d[i.id]}}}};var x,y=(x=[],function(t,r){return x[t]=r,x.filter(Boolean).join("\n")});function A(t,r,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(r,i);else{var e=document.createTextNode(i),a=t.childNodes;a[r]&&t.removeChild(a[r]),a.length?t.insertBefore(e,a[r]):t.appendChild(e)}}},function(t,r){t.exports=function(t){var r="undefined"!=typeof window&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=r.protocol+"//"+r.host,e=i+r.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,r){var n,o=r.trim().replace(/^"(.*)"$/,function(t,r){return r}).replace(/^'(.*)'$/,function(t,r){return r});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}}]);