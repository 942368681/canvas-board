!function(o){var r={};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=o,i.c=r,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(o,r,function(t){return n[t]}.bind(null,r));return o},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=6)}([function(n,t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?n.exports=r=function(t){return o(t)}:n.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)},r(t)}n.exports=r},function(t,n,o){var r=o(2);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(4)(r,i);r.locals&&(t.exports=r.locals)},function(t,n,o){(t.exports=o(3)(!1)).push([t.i,'/* drawingboard.js v0.4.6 - https://github.com/Leimi/drawingboard.js\n* Copyright (c) 2015 Emmanuel Pelletier\n* Licensed MIT */\n\n.drawing-board,\n.drawing-board * {\n    -webkit-box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    box-sizing: content-box\n}\n\n.drawing-board-controls-hidden,\n.drawing-board-utils-hidden {\n    display: none !important\n}\n\n.drawing-board {\n    position: relative;\n    display: block\n}\n\n.drawing-board-canvas-wrapper {\n    position: relative;\n    margin: 0;\n    border: 1px solid #ddd\n}\n\n.drawing-board-canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: auto;\n    cursor: crosshair;\n    z-index: 20\n}\n\n.drawing-board-cursor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    border-radius: 50%;\n    background: #ccc;\n    background: rgba(0, 0, 0, .2);\n    z-index: 30\n}\n\n.drawing-board-control-colors-rainbows,\n.drawing-board-control-size .drawing-board-control-inner,\n.drawing-board-control-size-dropdown,\n.drawing-board-control>button {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    overflow: hidden;\n    background-color: #eee;\n    padding: 2px 4px;\n    border: 1px solid #ccc;\n    box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\n    -webkit-box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\n    height: 28px\n}\n\n.drawing-board-control>button {\n    cursor: pointer;\n    min-width: 28px;\n    line-height: 14px\n}\n\n.drawing-board-control>button:focus,\n.drawing-board-control>button:hover {\n    background-color: #ddd\n}\n\n.drawing-board-control>button.active,\n.drawing-board-control>button:active {\n    box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, .2);\n    -webkit-box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, .2);\n    background-color: #ddd\n}\n\n.drawing-board-control>button[disabled] {\n    color: gray\n}\n\n.drawing-board-control>button[disabled].active,\n.drawing-board-control>button[disabled]:active,\n.drawing-board-control>button[disabled]:focus,\n.drawing-board-control>button[disabled]:hover {\n    background-color: #eee;\n    box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\n    -webkit-box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, .3);\n    cursor: default\n}\n\n.drawing-board-controls {\n    margin: 0 auto;\n    text-align: center;\n    font-size: 0;\n    display: table;\n    border-spacing: 9.33px 0;\n    position: relative;\n    min-height: 28px\n}\n\n.drawing-board-controls[data-align=left] {\n    margin: 0;\n    left: -9.33px\n}\n\n.drawing-board-controls[data-align=right] {\n    margin: 0 0 0 auto;\n    right: -9.33px\n}\n\n.drawing-board-canvas-wrapper+.drawing-board-controls,\n.drawing-board-controls+.drawing-board-canvas-wrapper {\n    margin-top: 5px\n}\n\n.drawing-board-controls-hidden {\n    height: 0;\n    min-height: 0;\n    padding: 0;\n    margin: 0;\n    border: 0\n}\n\n.drawing-board-control {\n    display: table-cell;\n    border-collapse: separate;\n    vertical-align: middle;\n    font-size: 16px;\n    height: 100%\n}\n\n.drawing-board-control-inner {\n    position: relative;\n    height: 100%;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box\n}\n\n.drawing-board-control>button {\n    margin: 0;\n    vertical-align: middle\n}\n\n.drawing-board-control-colors {\n    font-size: 0;\n    line-height: 0\n}\n\n.drawing-board-control-colors-current {\n    border: 1px solid #ccc;\n    cursor: pointer;\n    display: inline-block;\n    width: 26px;\n    height: 26px\n}\n\n.drawing-board-control-colors-rainbows {\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    top: 33px;\n    margin-left: 0;\n    z-index: 100;\n    width: 250px;\n    height: auto;\n    padding: 4px\n}\n\n.drawing-board-control-colors-rainbow {\n    height: 18px\n}\n\n.drawing-board-control-colors-picker:first-child {\n    margin-right: 5px\n}\n\n.drawing-board-control-colors-picker {\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    cursor: pointer\n}\n\n.drawing-board-control-colors-picker[data-color="rgba(255, 255, 255, 1)"] {\n    width: 16px;\n    height: 17px;\n    border: 1px solid #ccc;\n    border-bottom: none\n}\n\n.drawing-board-control-colors-picker:hover {\n    width: 16px;\n    height: 16px;\n    border: 1px solid #555\n}\n\n.drawing-board-control-drawingmode>button {\n    margin-right: 2px\n}\n\n.drawing-board-control-drawingmode>button:last-child {\n    margin-right: 0\n}\n\n.drawing-board-control-drawingmode-pencil-button {\n    overflow: hidden;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNpiZAACVlFRBhYREQZcQPnbNwa3N28YlL5+ZfgLFfvPwGD9m4FhIgsDHuAO0gTUDNKIBvyBmqt/MTDMY8Gl0f31azD7L6oUIxCnAzWmAPHBfwwM01AMUAV6JfPQIVwOYgVqqPnFyOjz6///O38YGKpAgmAD1OXlGdTk5PD5hgeouZudj8/uy9evP/78/dsFFPsJNiAoKIiBABAHap4oLi9v8fTNm48//v7NBwbgWZgkE7rqt8DY+A8JZRBW+cfIuEDT0NDlzadP3z98/doPFDuCrB7TAGFhBqCNIGwM9OcKUzs7+xdv3355+f79VqDYAiTDwZgJh7ONgYpnOvn4GL949erT7UePdgL5JVCD4fgBLBBxaX74+PG789evnwby0/8jKXgExIeB+CG6Af///1e9Ki9vFSAkZPzoyZPPJy9evA9MB77/sWiEARZkzV+/fvXYtGnTpG3btj28EBT0BqjZ5D8OjXCwPksUhA1Wpggf/PHjx/9169Y9EBERaUlgZmaIAcrLE4rk5sIqBqDmlefnRPzfWGX5EaSZm5ubgRloADGA5QZ3RgK7gESY4PMNn9ZtObPpzZvfU4DiYkiB/RcHG+S7fyxAMH/lFU2GOZd2bLx18/cEUMoD4j9I+DcS/RtJHGTYf4AAAwAxaOMYHjxKFwAAAABJRU5ErkJggg==);\n    background-position: 50% 50%;\n    background-repeat: no-repeat\n}\n\n.drawing-board-control-drawingmode-pencil-button:before {\n    content: "";\n    display: block;\n    width: 0;\n    height: 100%\n}\n\n.drawing-board-control-drawingmode-eraser-button {\n    overflow: hidden;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkpJREFUeNp0kk+IElEcx39vFBc9+OfQRTAwzFt4CaYOKStj6MoeculStzoIQSB4kCVckmDx4iGCXWYJIqjoVOzO1l4qT1F7WfBWHvxzDPyTB3XUmXn93suRybUffHmP997n9/cRsFgwGARJkiAcDsPlwgEIeEZQAhCRAkgAlOD6SQP4rgMFDWVnYCAQgFgsBqFQCBwOByzZNQOotPHx1RNCCCipu6bfb+zSnslkeOQVILPrBkAirbws9btdTEWAzZPXpfepOzaeGMBXwe/3w3+MwTc3Dl+UeghTiskbBvR6Pbh18mZHB0jjmxvCKhIfR37s3r+Sevf8ca/T4TBF2HTSODuDxP7uNjrZFFbBk8lEzOVyspa4ykGYw2zfbTb/7ilvok1YhlVVFfP5vDydTkHXdXDdlhZOOnPY4/HA0YPtp3h6LFjh8XgsFgoFGTPgsKm1zDr8ajTQh8Fh5eGjZzjGI8yjKlgjF4tFGdd/YKYmRja24hw+zu3sYe2HiH3hYzQjl8tleTQanWtou93G6Qngdrth6+1+9h6hTULJZ/PeziJXKhV5OByeg1ut1gJOp9NZTdNOcQ419ot+ggp1qoLdBFmqVmNpm3A8Huewy+Wq1RH8QH9zmBlJJpMRdCIqiiIPBgN+2MCGsW/r8/kgGo1m0fmpzWarseayHlmNeL1eFiWC0cRqtSr3+/3FpSiKHMZtjU1glbFyfKgLTqfzEka9OJvNeDnzz1JnCaFmqOl8ZdJY1SiDOXCiXKg1NtG5DIt0y6ov3dE/AgwAENFWYYLj4mYAAAAASUVORK5CYII=);\n    background-position: 50% 50%;\n    background-repeat: no-repeat\n}\n\n.drawing-board-control-drawingmode-eraser-button:before {\n    content: "";\n    display: block;\n    width: 0;\n    height: 100%\n}\n\n.drawing-board-control-drawingmode-filler-button {\n    overflow: hidden;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnNJREFUeNp0k0trE1EUx89MJpNJooYYXBgDNtCKdRPwlbqoCKUtaNVNA0Uo7UbMxoVPEARTXEi+QWfnwn6DEAlEkrSLttTGRiULEQlJ8yChmbzI++E50yTUJA78uMy953/u/557LmOz2WDEZ2m1WrckSRJSqdR2tVrdHQyYebwHtVoNuFHqTqczhQnWKaBYLDoKhcIuzgHDMKBSqeD20qd+LNdsNocSoFhRr9ctpVLJigl4xIIJQizLAmG4cAPa7bYcy9Iug5TL5UYikbD6/X7Rbre/IUcYe3WUW5ZsnQQzW9LpNOPz+UQc5aBM5mgdh7vI9FCCAesW2tnr9YqZTAby+bw8f3AQRP6853n+Ph5hemSCntjj8YjZbFYWx2IxeS2RSEMwuA87O79eqdXquVolK+GxnP0EPbHb7RZJSGABIR6PA11zJHKIR2MhHA5DIPDj7eH3j95KpfK60Wg8Yntil8slkqgnpioLghacTidoNDpEC3q9HnheCc3s1jZeLcW943pirPw/4lKpBkqlDubnl/riycnLsLy88EKj0fhzuRyZv8RFo1E6wpBYkiqy7Z54YmIcVlYeyOKC4mYwJ0nHRaQuM5vNT6hB/iceG7sIq6sPnwmC4MerDkby40AOCCoiddie1Wp92W7zQ2KTyQSLizNP8T0EsPLBbxEDnCj0GkM2qIEwyZRCobizsfH5A1ZXFhuN52F29vpz3HkL574mk8lj24Y5wsHkvjjoX0BOIWc5jruHzbK2ufmzEwpFO3jnDhQv4JoROYdoERVyGjEgZ8iBDlF3FzXo4go6utZ9lftY4N/dXisjR0i1G0ublv8KMAA0ZoUlicxrhwAAAABJRU5ErkJggg==);\n    background-position: 50% 50%;\n    background-repeat: no-repeat\n}\n\n.drawing-board-control-drawingmode-filler-button:before {\n    content: "";\n    display: block;\n    width: 0;\n    height: 100%\n}\n\n.drawing-board-control-navigation>button {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 14px;\n    font-weight: 700;\n    margin-right: 2px\n}\n\n.drawing-board-control-navigation>button:last-child {\n    margin-right: 0\n}\n\n.drawing-board-control-size[data-drawing-board-type=range] .drawing-board-control-inner {\n    width: 75px\n}\n\n.drawing-board-control-size[data-drawing-board-type=dropdown] .drawing-board-control-inner {\n    overflow: visible\n}\n\n.drawing-board-control-size-range-input {\n    position: relative;\n    width: 100%;\n    z-index: 100;\n    margin: 0;\n    padding: 0;\n    border: 0\n}\n\n.drawing-board-control-size-dropdown span,\n.drawing-board-control-size-dropdown-current span,\n.drawing-board-control-size-range-current {\n    display: block;\n    background: #333;\n    opacity: .8\n}\n\n.drawing-board-control-size-range-current {\n    display: inline-block;\n    opacity: .15;\n    position: absolute;\n    pointer-events: none;\n    left: 50%;\n    top: 50%;\n    z-index: 50\n}\n\n.drawing-board-control-size-dropdown-current {\n    display: block;\n    height: 100%;\n    width: 40px;\n    overflow: hidden;\n    position: relative\n}\n\n.drawing-board-control-size-dropdown-current span {\n    position: absolute;\n    left: 50%;\n    top: 50%\n}\n\n.drawing-board-control-size-dropdown {\n    position: absolute;\n    left: -6px;\n    top: 33px;\n    height: auto;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    z-index: 100\n}\n\n.drawing-board-control-size-dropdown li {\n    display: block;\n    padding: 4px;\n    margin: 3px 0;\n    min-height: 16px\n}\n\n.drawing-board-control-size-dropdown li:hover {\n    background: #ccc\n}\n\n.drawing-board-control-size-dropdown span {\n    margin: 0 auto\n}\n\n.drawing-board-control-download-button {\n    overflow: hidden;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoBJREFUeNqMkr9PU1EUx7/vR1tQ3yu10hAmTawtBSYSy2YccFOcnDQm/gewOLnj5GYMg4sdXFxkMca4OBAwdUBe/ZkIGFp+9tHXvh/3/fTcAm01aLzJybnn3nM+95tzrnDl6Tb+sibuTmWUWj3C6/Juk+LySUmyvt0FCKKA02ryOCy6LBiu15ngMbZ5DDCNBqIw6gKM+n4nECUJru3glKry8CpjQaHVYmC2rVH82DIMMMdGGARdwJ+SPNdFS9chx+MXDNMp/NzagWNatk/nQU/hiYAoih6FYTBCBs9zUXMCbAhx2OYOv351lPOJ3EwH4LteL6Dcp/Rfu3FrstDyIizt+agpaYxNDU0M9gl4v7Ck+TYrCYLQqZHUyTtdQBiutPSGUflczSXHs5lVKwZdSOBMvwztxVvN0RtzsiyXBFHsAvL5PBSnCpXV2getILFiE2SjspYbuZzPiDSZ2vOXmlvX5yQqTmMfg9ZXqtls1wnT09OHEyAq0aFLg/gSXsSWq9wWk+p9PrCoYTwcijdLOfE7UsEufN9HGIYnT4EnTGIXe1KqtNNIvuNnGamxfi7SgQD/nIJCTbzOPQ/SQh1pud7T4M6W/8qFIw/5WAr5m7Ozsw9UVc069Fls2yJzSC5/lnc9RhaHZVnfSqUnEgXP2oBqtYqBgYG2+mKxmOVADnAcB4yxHgD1RzehKKns/LyV4gUHBweQy+UyRkdH6UKJ6fQDFxcXoWkaXJeRuTgUGCdLQJ9bx72lGZimGWs2m+083oN+2iiFQiGxvLy8RrDzudyltgrG3N8U2G8CrPz4sGYYRqJSqWR4H/jNWbJhUjAWi8XG8R/L87yPpGCVttVfAgwAVpZR+8tZC08AAAAASUVORK5CYII=);\n    background-position: 50% 50%;\n    background-repeat: no-repeat\n}\n\n.drawing-board-control-download-button:before {\n    content: "";\n    display: block;\n    width: 0;\n    height: 100%\n}',""])},function(t,n,o){"use strict";t.exports=function(o){var a=[];return a.toString=function(){return this.map(function(t){var n=function(t,n){var o=t[1]||"",r=t[3];if(!r)return o;if(n&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[o].concat(e).concat([i]).join("\n")}var a;return[o].join("\n")}(t,o);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},a.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(r=0;r<t.length;r++){var e=t[r];null!=e[0]&&o[e[0]]||(n&&!e[2]?e[2]=n:n&&(e[2]="("+e[2]+") and ("+n+")"),a.push(e))}},a}},function(t,n,r){var o,i,e,d={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),a=(e={},function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,n){return n?n.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}),c=null,h=0,s=[],g=r(5);function p(t,n){for(var o=0;o<t.length;o++){var r=t[o],i=d[r.id];if(i){i.refs++;for(var e=0;e<i.parts.length;e++)i.parts[e](r.parts[e]);for(;e<r.parts.length;e++)i.parts.push(m(r.parts[e],n))}else{var a=[];for(e=0;e<r.parts.length;e++)a.push(m(r.parts[e],n));d[r.id]={id:r.id,refs:1,parts:a}}}}function u(t,n){for(var o=[],r={},i=0;i<t.length;i++){var e=t[i],a=n.base?e[0]+n.base:e[0],s={css:e[1],media:e[2],sourceMap:e[3]};r[a]?r[a].parts.push(s):o.push(r[a]={id:a,parts:[s]})}return o}function b(t,n){var o=a(t.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===t.insertAt)r?r.nextSibling?o.insertBefore(n,r.nextSibling):o.appendChild(n):o.insertBefore(n,o.firstChild),s.push(n);else if("bottom"===t.insertAt)o.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,o);o.insertBefore(n,i)}}function w(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=s.indexOf(t);0<=n&&s.splice(n,1)}function f(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return r.nc}();o&&(t.attrs.nonce=o)}return v(n,t.attrs),b(t,n),n}function v(n,o){Object.keys(o).forEach(function(t){n.setAttribute(t,o[t])})}function m(n,t){var o,r,i,e,a,s;if(t.transform&&n.css){if(!(e="function"==typeof t.transform?t.transform(n.css):t.transform.default(n.css)))return function(){};n.css=e}if(t.singleton){var d=h++;o=c||(c=f(t)),r=A.bind(null,o,d,!1),i=A.bind(null,o,d,!0)}else i=n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=t,s=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",v(s,a.attrs),b(a,s),r=function(t,n,o){var r=o.css,i=o.sourceMap,e=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||e)&&(r=g(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,o=s,t),function(){w(o),o.href&&URL.revokeObjectURL(o.href)}):(o=f(t),r=function(t,n){var o=n.css,r=n.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}.bind(null,o),function(){w(o)});return r(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;r(n=t)}else i()}}t.exports=function(t,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=l()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=u(t,a);return p(s,a),function(t){for(var n=[],o=0;o<s.length;o++){var r=s[o];(i=d[r.id]).refs--,n.push(i)}t&&p(u(t,a),a);for(o=0;o<n.length;o++){var i;if(0===(i=n[o]).refs){for(var e=0;e<i.parts.length;e++)i.parts[e]();delete d[i.id]}}}};var y,x=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function A(t,n,o,r){var i=o?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(n,i);else{var e=document.createTextNode(i),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(e,a[n]):t.appendChild(e)}}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=n.protocol+"//"+n.host,e=i+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var o,r=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:e+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,n,o){"use strict";o.r(n);var r,i,e=o(0),a=o.n(e);(r=function(t){var n=t||{},o={provider:function(){throw new Error("No provider!")},maxLength:30,onUpdate:function(){}};this.provider=void 0!==n.provider?n.provider:o.provider,this.maxLength=void 0!==n.maxLength?n.maxLength:o.maxLength,this.onUpdate=void 0!==n.onUpdate?n.onUpdate:o.onUpdate,this.initialItem=null,this.clear()}).prototype.initialize=function(t){this.stack[0]=t,this.initialItem=t},r.prototype.clear=function(){this.stack=[this.initialItem],this.position=0,this.onUpdate()},r.prototype.save=function(){this.provider(function(t){!function(t,n){for(;t.length>n;)t.shift()}(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1),this.stack.push(t),this.position++,this.onUpdate()}.bind(this))},r.prototype.undo=function(t){if(this.canUndo()){var n=this.stack[--this.position];this.onUpdate(),t&&t(n)}},r.prototype.redo=function(t){if(this.canRedo()){var n=this.stack[++this.position];this.onUpdate(),t&&t(n)}},r.prototype.canUndo=function(){return 0<this.position},r.prototype.canRedo=function(){return this.position<this.count()},r.prototype.count=function(){return this.stack.length-1},"undefined"!=typeof window&&(window.SimpleUndo=r),window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Utils={},
/*!
* Tim (lite)
*   github.com/premasagar/tim
*/
DrawingBoard.Utils.tpl=(i=new RegExp("{{\\s*([a-z0-9_][\\.a-z0-9_]*)\\s*}}","gi"),function(t,a){return t.replace(i,function(t,n){for(var o=n.split("."),r=o.length,i=a,e=0;e<r;e++){if(void 0===(i=i[o[e]]))throw"tim: '"+o[e]+"' not found in "+t;if(e===r-1)return i}})}),DrawingBoard.Utils.MicroEvent=function(){},DrawingBoard.Utils.MicroEvent.prototype={bind:function(t,n){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(n)},unbind:function(t,n){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(n),1)},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var n=0;n<this._events[t].length;n++)this._events[t][n].apply(this,Array.prototype.slice.call(arguments,1))}},DrawingBoard.Utils._boxBorderSize=function(t,n,o,r){n=!!n||!0,o=!!o||!1;var i,e=0;"width"==r?(i=["border-left-width","border-right-width"],n&&i.push("padding-left","padding-right"),o&&i.push("margin-left","margin-right")):(i=["border-top-width","border-bottom-width"],n&&i.push("padding-top","padding-bottom"),o&&i.push("margin-top","margin-bottom"));for(var a=i.length-1;0<=a;a--)e+=parseInt(t.css(i[a]).replace("px",""),10);return e},DrawingBoard.Utils.boxBorderWidth=function(t,n,o){return DrawingBoard.Utils._boxBorderSize(t,n,o,"width")},DrawingBoard.Utils.boxBorderHeight=function(t,n,o){return DrawingBoard.Utils._boxBorderSize(t,n,o,"height")},DrawingBoard.Utils.isColor=function(t){return!(!t||!t.length)&&(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)||-1!==$.inArray(t.substring(0,3),["rgb","hsl"]))},DrawingBoard.Utils.RGBToInt=function(t,n,o){var r=0;return r|=(255&t)<<16,r|=(255&n)<<8,r|=255&o},DrawingBoard.Utils.pixelAt=function(t,n,o){var r=4*(o*t.width+n);return[r,n,o,DrawingBoard.Utils.RGBToInt(t.data[r],t.data[r+1],t.data[r+2])]},DrawingBoard.Utils.compareColors=function(t,n,o){if(0===o)return t===n;var r=t>>16&255,i=n>>16&255,e=t>>8&255,a=n>>8&255,s=255&t,d=255&n;return Math.abs(r-i)<=o&&Math.abs(e-a)<=o&&Math.abs(s-d)<=o},function(){for(var t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"]}(),window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Board=function(t,n){if(this.opts=this.mergeOptions(n),this.ev=new DrawingBoard.Utils.MicroEvent,this.id=t,this.$el=$(document.getElementById(t)),!this.$el.length)return!1;var o='<div class="drawing-board-canvas-wrapper"></canvas><canvas class="drawing-board-canvas"></canvas><div class="drawing-board-cursor drawing-board-utils-hidden"></div></div>';if(-1<this.opts.controlsPosition.indexOf("bottom")?o+='<div class="drawing-board-controls"></div>':o='<div class="drawing-board-controls"></div>'+o,this.$el.addClass("drawing-board").append(o),this.dom={$canvasWrapper:this.$el.find(".drawing-board-canvas-wrapper"),$canvas:this.$el.find(".drawing-board-canvas"),$cursor:this.$el.find(".drawing-board-cursor"),$controls:this.$el.find(".drawing-board-controls")},$.each(["left","right","center"],$.proxy(function(t,n){if(-1<this.opts.controlsPosition.indexOf(n))return this.dom.$controls.attr("data-align",n),!1},this)),this.canvas=this.dom.$canvas.get(0),this.ctx=this.canvas&&this.canvas.getContext&&this.canvas.getContext("2d")?this.canvas.getContext("2d"):null,this.color=this.opts.color,!this.ctx)return this.opts.errorMessage&&this.$el.html(this.opts.errorMessage),!1;this.storage=this._getStorage(),this.initHistory(),this.reset({webStorage:!1,history:!1,background:!1}),this.initControls(),this.resize(),this.reset({webStorage:!1,history:!1,background:!0}),this.restoreWebStorage(),this.initDropEvents(),this.initDrawEvents()},DrawingBoard.Board.defaultOpts={controls:["Color","DrawingMode","Size","Navigation"],controlsPosition:"top left",color:"#000000",size:1,background:"#fff",eraserColor:"background",fillTolerance:100,fillHack:!0,webStorage:"session",droppable:!1,enlargeYourContainer:!1,errorMessage:'<p>It seems you use an obsolete browser. <a href="http://browsehappy.com/" target="_blank">Update it</a> to start drawing.</p>',stretchImg:!1},DrawingBoard.Board.prototype={mergeOptions:function(t){return(t=$.extend({},DrawingBoard.Board.defaultOpts,t)).background||"background"!==t.eraserColor||(t.eraserColor="transparent"),t},reset:function(t){t=$.extend({color:this.opts.color,size:this.opts.size,webStorage:!0,history:!0,background:!1},t),this.setMode("pencil"),t.background&&this.resetBackground(this.opts.background,$.proxy(function(){t.history&&this.saveHistory()},this)),t.color&&this.setColor(t.color),t.size&&(this.ctx.lineWidth=t.size),this.ctx.lineCap="round",this.ctx.lineJoin="round",t.webStorage&&this.saveWebStorage(),t.history&&!t.background&&this.saveHistory(),this.blankCanvas=this.getImg(),this.ev.trigger("board:reset",t)},resetBackground:function(t,n){t=t||this.opts.background;var o=DrawingBoard.Utils.isColor(t),r=this.getMode();this.setMode("pencil"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),o?(this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.history.initialize(this.getImg()),n&&n()):t&&this.setImg(t,{callback:$.proxy(function(){this.history.initialize(this.getImg()),n&&n()},this)}),this.setMode(r)},resize:function(){var t,n;this.dom.$controls.toggleClass("drawing-board-controls-hidden",!this.controls||!this.controls.length);var o=[this.$el.width(),DrawingBoard.Utils.boxBorderWidth(this.$el),DrawingBoard.Utils.boxBorderWidth(this.dom.$canvasWrapper,!0,!0)],r=[this.$el.height(),DrawingBoard.Utils.boxBorderHeight(this.$el),this.dom.$controls.height(),DrawingBoard.Utils.boxBorderHeight(this.dom.$controls,!1,!0),DrawingBoard.Utils.boxBorderHeight(this.dom.$canvasWrapper,!0,!0)],i=function(t,n){n=n||1;for(var o=t[0],r=1;r<t.length;r++)o+=t[r]*n;return o},e=function(t){return i(t,-1)};this.opts.enlargeYourContainer?(t=this.$el.width(),n=this.$el.height(),this.$el.width(i(o)),this.$el.height(i(r))):(t=e(o),n=e(r)),this.dom.$canvasWrapper.css("width",t+"px"),this.dom.$canvasWrapper.css("height",n+"px"),this.dom.$canvas.css("width",t+"px"),this.dom.$canvas.css("height",n+"px"),this.canvas.width=t,this.canvas.height=n},initControls:function(){if(this.controls=[],!this.opts.controls.length||!DrawingBoard.Control)return!1;for(var t=0;t<this.opts.controls.length;t++){var n=null;if("string"==typeof this.opts.controls[t])n=new window.DrawingBoard.Control[this.opts.controls[t]](this);else if("object"==a()(this.opts.controls[t])){for(var o in this.opts.controls[t])break;n=new window.DrawingBoard.Control[o](this,this.opts.controls[t][o])}n&&this.addControl(n)}},addControl:function(t,n,o){if("string"!=typeof t&&("object"!==a()(t)||!t instanceof DrawingBoard.Control))return!1;var r="object"==a()(n)?n:{};o=o?1*o:"number"==typeof n?n:null,"string"==typeof t&&(t=new window.DrawingBoard.Control[t](this,r)),o?this.dom.$controls.children().eq(o).before(t.$el):this.dom.$controls.append(t.$el),this.controls||(this.controls=[]),this.controls.push(t),this.dom.$controls.removeClass("drawing-board-controls-hidden")},initHistory:function(){this.history=new SimpleUndo({maxLength:30,provider:$.proxy(function(t){t(this.getImg())},this),onUpdate:$.proxy(function(){this.ev.trigger("historyNavigation")},this)})},saveHistory:function(){this.history.save()},restoreHistory:function(t){this.setImg(t,{callback:$.proxy(function(){this.saveWebStorage()},this)})},goBackInHistory:function(){this.history.undo($.proxy(this.restoreHistory,this))},goForthInHistory:function(){this.history.redo($.proxy(this.restoreHistory,this))},setImg:function(t,i){i=$.extend({stretch:this.opts.stretchImg,callback:null},i);var e=this.ctx,a=new Image,s=e.globalCompositeOperation;a.onload=function(){if(e.globalCompositeOperation="source-over",e.clearRect(0,0,e.canvas.width,e.canvas.height),i.stretch)e.drawImage(a,0,0,e.canvas.width,e.canvas.height);else{var t,n,o=a.width,r=a.height;0<a.width/a.height-e.canvas.width/e.canvas.height?a.width>e.canvas.width&&(o=e.canvas.width,r=a.height/(a.width/e.canvas.width)):a.height>e.canvas.height&&(r=e.canvas.height,o=a.width/(a.height/e.canvas.height)),t=(e.canvas.width-o)/2,n=(e.canvas.height-r)/2,e.drawImage(a,t,n,o,r)}e.globalCompositeOperation=s,i.callback&&i.callback()},a.src=t},getImg:function(){return this.canvas.toDataURL("image/png")},downloadImg:function(){var t=this.getImg();t=t.replace("image/png","image/octet-stream"),window.location.href=t},saveWebStorage:function(){window[this.storage]&&(window[this.storage].setItem("drawing-board-"+this.id,this.getImg()),this.ev.trigger("board:save"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),this.getImg()))},restoreWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(this.setImg(window[this.storage].getItem("drawing-board-"+this.id)),this.ev.trigger("board:restore"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),window[this.storage].getItem("drawing-board-"+this.id)))},clearWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(window[this.storage].removeItem("drawing-board-"+this.id),this.ev.trigger("board:clear"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1)))},_getStorage:function(){return!(!this.opts.webStorage||"session"!==this.opts.webStorage&&"local"!==this.opts.webStorage)&&this.opts.webStorage+"Storage"},initDropEvents:function(){if(!this.opts.droppable)return!1;this.dom.$canvas.on("dragover dragenter drop",function(t){t.stopPropagation(),t.preventDefault()}),this.dom.$canvas.on("drop",$.proxy(this._onCanvasDrop,this))},_onCanvasDrop:function(t){var n=(t=t.originalEvent?t.originalEvent:t).dataTransfer.files;if(!n||!n.length||-1==n[0].type.indexOf("image")||!window.FileReader)return!1;var o=new FileReader;o.readAsDataURL(n[0]),o.onload=$.proxy(function(t){this.setImg(t.target.result,{callback:$.proxy(function(){this.saveHistory()},this)}),this.ev.trigger("board:imageDropped",t.target.result),this.ev.trigger("board:userAction")},this)},setMode:function(t,n){n=n||!1,t=t||"pencil",this.ev.unbind("board:startDrawing",$.proxy(this.fill,this)),"transparent"===this.opts.eraserColor?this.ctx.globalCompositeOperation="eraser"===t?"destination-out":"source-over":("eraser"===t?"background"===this.opts.eraserColor&&DrawingBoard.Utils.isColor(this.opts.background)?this.ctx.strokeStyle=this.opts.background:DrawingBoard.Utils.isColor(this.opts.eraserColor)&&(this.ctx.strokeStyle=this.opts.eraserColor):this.mode&&"eraser"!==this.mode||(this.ctx.strokeStyle=this.color),"filler"===t&&this.ev.bind("board:startDrawing",$.proxy(this.fill,this))),this.mode=t,n||this.ev.trigger("board:mode",this.mode)},getMode:function(){return this.mode||"pencil"},setColor:function(t){var o=this;if(t=t||this.color,!DrawingBoard.Utils.isColor(t))return!1;if(this.color=t,"transparent"!==this.opts.eraserColor&&"eraser"===this.mode){this.ev.bind("board:mode",function t(n){"eraser"!==n&&(o.strokeStyle=o.color),o.ev.unbind("board:mode",t)})}else this.ctx.strokeStyle=this.color},fill:function(t){if(this.getImg()===this.blankCanvas)return this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle=this.color,void this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);var n=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),o=0,r=this.ctx.strokeStyle,i=parseInt(r.substr(1,2),16),e=parseInt(r.substr(3,2),16),a=parseInt(r.substr(5,2),16),s=DrawingBoard.Utils.pixelAt(n,parseInt(t.coords.x,10),parseInt(t.coords.y,10)),d=s[3],l=this.opts.fillTolerance,c=this.opts.fillHack;if(!DrawingBoard.Utils.compareColors(d,DrawingBoard.Utils.RGBToInt(i,e,a),l)){for(var h,g=[s],p=n.width-1,u=n.height-1;h=g.pop();)c&&b(h),DrawingBoard.Utils.compareColors(h[3],d,l)&&(c||b(h),0<h[1]&&g.push(DrawingBoard.Utils.pixelAt(n,h[1]-1,h[2])),h[1]<p&&g.push(DrawingBoard.Utils.pixelAt(n,h[1]+1,h[2])),0<h[2]&&g.push(DrawingBoard.Utils.pixelAt(n,h[1],h[2]-1)),h[2]<u&&g.push(DrawingBoard.Utils.pixelAt(n,h[1],h[2]+1)));this.ctx.putImageData(n,0,0)}function b(t){n.data[t[o]]=i,n.data[t[o]+1]=e,n.data[t[o]+2]=a}},initDrawEvents:function(){this.isDrawing=!1,this.isMouseHovering=!1,this.coords={},this.coords.old=this.coords.current=this.coords.oldMid={x:0,y:0},this.dom.$canvas.on("mousedown touchstart",$.proxy(function(t){this._onInputStart(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mousemove touchmove",$.proxy(function(t){this._onInputMove(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mousemove",$.proxy(function(t){},this)),this.dom.$canvas.on("mouseup touchend",$.proxy(function(t){this._onInputStop(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mouseover",$.proxy(function(t){this._onMouseOver(t,this._getInputCoords(t))},this)),this.dom.$canvas.on("mouseout",$.proxy(function(t){this._onMouseOut(t,this._getInputCoords(t))},this)),$("body").on("mouseup touchend",$.proxy(function(t){this.isDrawing=!1},this)),window.requestAnimationFrame&&requestAnimationFrame($.proxy(this.draw,this))},draw:function(){if(window.requestAnimationFrame&&10<this.ctx.lineWidth&&this.isMouseHovering){this.dom.$cursor.css({width:this.ctx.lineWidth+"px",height:this.ctx.lineWidth+"px"});var t=DrawingBoard.Utils.tpl("translateX({{x}}px) translateY({{y}}px)",{x:this.coords.current.x-this.ctx.lineWidth/2,y:this.coords.current.y-this.ctx.lineWidth/2});this.dom.$cursor.css({transform:t,"-webkit-transform":t,"-ms-transform":t}),this.dom.$cursor.removeClass("drawing-board-utils-hidden")}else this.dom.$cursor.addClass("drawing-board-utils-hidden");if(this.isDrawing){var n=this._getMidInputCoords(this.coords.current);this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y),this.ctx.quadraticCurveTo(this.coords.old.x,this.coords.old.y,this.coords.oldMid.x,this.coords.oldMid.y),this.ctx.stroke(),this.coords.old=this.coords.current,this.coords.oldMid=n}window.requestAnimationFrame&&requestAnimationFrame($.proxy(function(){this.draw()},this))},_onInputStart:function(t,n){this.coords.current=this.coords.old=n,this.coords.oldMid=this._getMidInputCoords(n),this.isDrawing=!0,window.requestAnimationFrame||this.draw(),this.ev.trigger("board:startDrawing",{e:t,coords:n}),t.stopPropagation(),t.preventDefault()},_onInputMove:function(t,n){this.coords.current=n,this.ev.trigger("board:drawing",{e:t,coords:n}),window.requestAnimationFrame||this.draw(),t.stopPropagation(),t.preventDefault()},_onInputStop:function(t,n){!this.isDrawing||t.touches&&0!==t.touches.length||(this.isDrawing=!1,this.saveWebStorage(),this.saveHistory(),this.ev.trigger("board:stopDrawing",{e:t,coords:n}),this.ev.trigger("board:userAction"),t.stopPropagation(),t.preventDefault())},_onMouseOver:function(t,n){this.isMouseHovering=!0,this.coords.old=this._getInputCoords(t),this.coords.oldMid=this._getMidInputCoords(this.coords.old),this.ev.trigger("board:mouseOver",{e:t,coords:n})},_onMouseOut:function(t,n){this.isMouseHovering=!1,this.ev.trigger("board:mouseOut",{e:t,coords:n})},_getInputCoords:function(t){t=t.originalEvent?t.originalEvent:t;var n,o,r=this.canvas.getBoundingClientRect(),i=this.dom.$canvas.width(),e=this.dom.$canvas.height();return o=t.touches&&1==t.touches.length?(n=t.touches[0].pageX,t.touches[0].pageY):(n=t.pageX,t.pageY),n-=this.dom.$canvas.offset().left,o-=this.dom.$canvas.offset().top,{x:n*=i/r.width,y:o*=e/r.height}},_getMidInputCoords:function(t){return{x:this.coords.old.x+t.x>>1,y:this.coords.old.y+t.y>>1}}},DrawingBoard.Control=function(t,n){return this.board=t,this.opts=$.extend({},this.defaults,n),this.$el=$(document.createElement("div")).addClass("drawing-board-control"),this.name&&this.$el.addClass("drawing-board-control-"+this.name),this.board.ev.bind("board:reset",$.proxy(this.onBoardReset,this)),this.initialize.apply(this,arguments),this},DrawingBoard.Control.prototype={name:"",defaults:{},initialize:function(){},addToBoard:function(){this.board.addControl(this)},onBoardReset:function(t){}},DrawingBoard.Control.extend=function(t,n){var o,r=this;o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},$.extend(o,r,n);var i=function(){this.constructor=o};return i.prototype=r.prototype,o.prototype=new i,t&&$.extend(o.prototype,t),o.__super__=r.prototype,o},DrawingBoard.Control.Color=DrawingBoard.Control.extend({name:"colors",initialize:function(){this.initTemplate();var e=this;this.$el.on("click",".drawing-board-control-colors-picker",function(t){var n=$(this).attr("data-color");e.board.setColor(n),e.$el.find(".drawing-board-control-colors-current").css("background-color",n).attr("data-color",n),e.board.ev.trigger("color:changed",n),e.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden"),t.preventDefault()}),this.$el.on("click",".drawing-board-control-colors-current",function(t){e.$el.find(".drawing-board-control-colors-rainbows").toggleClass("drawing-board-utils-hidden"),t.preventDefault()}),$("body").on("click",function(t){var n=$(t.target),o=n.hasClass("drawing-board-control-colors-current")?n:n.closest(".drawing-board-control-colors-current"),r=e.$el.find(".drawing-board-control-colors-current"),i=e.$el.find(".drawing-board-control-colors-rainbows");o.length&&o.get(0)===r.get(0)||i.hasClass("drawing-board-utils-hidden")||i.addClass("drawing-board-utils-hidden")})},initTemplate:function(){var i='<div class="drawing-board-control-colors-picker" data-color="{{color}}" style="background-color: {{color}}"></div>',e="";$.each([.75,.5,.25],$.proxy(function(t,n){var o=0,r=null;for(e+='<div class="drawing-board-control-colors-rainbow">',.25==n&&(r=this._rgba(0,0,0,1)),.5==n&&(r=this._rgba(150,150,150,1)),.75==n&&(r=this._rgba(255,255,255,1)),e+=DrawingBoard.Utils.tpl(i,{color:r.toString()});o<=330;)e+=DrawingBoard.Utils.tpl(i,{color:this._hsl2Rgba(this._hsl(o-60,1,n)).toString()}),o+=30;e+="</div>"},this)),this.$el.append($(DrawingBoard.Utils.tpl('<div class="drawing-board-control-inner"><div class="drawing-board-control-colors-current" style="background-color: {{color}}" data-color="{{color}}"></div><div class="drawing-board-control-colors-rainbows">{{rainbows}}</div></div>',{color:this.board.color,rainbows:e}))),this.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden")},onBoardReset:function(t){this.board.setColor(this.$el.find(".drawing-board-control-colors-current").attr("data-color"))},_rgba:function(t,n,o,r){return{r:t,g:n,b:o,a:r,toString:function(){return"rgba("+t+", "+n+", "+o+", "+r+")"}}},_hsl:function(t,n,o){return{h:t,s:n,l:o,toString:function(){return"hsl("+t+", "+100*n+"%, "+100*o+"%)"}}},_hex2Rgba:function(t){var n=parseInt(t.substring(1),16);return this._rgba(n>>16,n>>8&255,255&n,1)},_hsl2Rgba:function(t){var n,o,r,i=t.h/360,e=t.s,a=t.l;function s(t,n,o){return o<0&&(o+=1),1<o&&(o-=1),o<1/6?t+6*(n-t)*o:o<.5?n:o<2/3?t+(n-t)*(2/3-o)*6:t}if(0===e)n=o=r=a;else{var d=a<.5?a*(1+e):a+e-a*e,l=2*a-d;n=Math.floor(255*s(l,d,i+1/3)),o=Math.floor(255*s(l,d,i)),r=Math.floor(255*s(l,d,i-1/3))}return this._rgba(n,o,r,1)}}),DrawingBoard.Control.DrawingMode=DrawingBoard.Control.extend({name:"drawingmode",defaults:{pencil:!0,eraser:!0,filler:!0},initialize:function(){this.prevMode=this.board.getMode(),$.each(["pencil","eraser","filler"],$.proxy(function(t,n){this.opts[n]&&this.$el.append('<button class="drawing-board-control-drawingmode-'+n+'-button" data-mode="'+n+'"></button>')},this)),this.$el.on("click","button[data-mode]",$.proxy(function(t){var n=$(t.currentTarget).attr("data-mode"),o=this.board.getMode();o!==n&&(this.prevMode=o);var r=o===n?this.prevMode:n;this.board.setMode(r),t.preventDefault()},this)),this.board.ev.bind("board:mode",$.proxy(function(t){this.toggleButtons(t)},this)),this.toggleButtons(this.board.getMode())},toggleButtons:function(r){this.$el.find("button[data-mode]").each(function(t,n){var o=$(n);o.toggleClass("active",r===o.attr("data-mode"))})}}),DrawingBoard.Control.Navigation=DrawingBoard.Control.extend({name:"navigation",defaults:{back:!0,forward:!0,reset:!0},initialize:function(){var t="";if(this.opts.back&&(t+='<button class="drawing-board-control-navigation-back">&larr;</button>'),this.opts.forward&&(t+='<button class="drawing-board-control-navigation-forward">&rarr;</button>'),this.opts.reset&&(t+='<button class="drawing-board-control-navigation-reset">&times;</button>'),this.$el.append(t),this.opts.back){var n=this.$el.find(".drawing-board-control-navigation-back");this.board.ev.bind("historyNavigation",$.proxy(this.updateBack,this,n)),this.$el.on("click",".drawing-board-control-navigation-back",$.proxy(function(t){this.board.goBackInHistory(),t.preventDefault()},this)),this.updateBack(n)}if(this.opts.forward){var o=this.$el.find(".drawing-board-control-navigation-forward");this.board.ev.bind("historyNavigation",$.proxy(this.updateForward,this,o)),this.$el.on("click",".drawing-board-control-navigation-forward",$.proxy(function(t){this.board.goForthInHistory(),t.preventDefault()},this)),this.updateForward(o)}this.opts.reset&&this.$el.on("click",".drawing-board-control-navigation-reset",$.proxy(function(t){this.board.reset({background:!0}),t.preventDefault()},this))},updateBack:function(t){this.board.history.canUndo()?t.removeAttr("disabled"):t.attr("disabled","disabled")},updateForward:function(t){this.board.history.canRedo()?t.removeAttr("disabled"):t.attr("disabled","disabled")}}),DrawingBoard.Control.Size=DrawingBoard.Control.extend({name:"size",defaults:{type:"auto",dropdownValues:[1,3,6,10,20,30,40,50],min:1,max:50},types:["dropdown","range"],initialize:function(){"auto"==this.opts.type&&(this.opts.type=this._iHasRangeInput()?"range":"dropdown");var t=-1<$.inArray(this.opts.type,this.types)&&this["_"+this.opts.type+"Template"]();if(!t)return!1;this.val=this.board.opts.size,this.$el.append($(t)),this.$el.attr("data-drawing-board-type",this.opts.type),this.updateView();var n=this;"range"==this.opts.type&&this.$el.on("change",".drawing-board-control-size-range-input",function(t){n.val=$(this).val(),n.updateView(),n.board.ev.trigger("size:changed",n.val),t.preventDefault()}),"dropdown"==this.opts.type&&(this.$el.on("click",".drawing-board-control-size-dropdown-current",$.proxy(function(t){this.$el.find(".drawing-board-control-size-dropdown").toggleClass("drawing-board-utils-hidden")},this)),this.$el.on("click","[data-size]",function(t){n.val=parseInt($(this).attr("data-size"),0),n.updateView(),n.board.ev.trigger("size:changed",n.val),t.preventDefault()}))},_rangeTemplate:function(){return DrawingBoard.Utils.tpl('<div class="drawing-board-control-inner" title="{{size}}"><input type="range" min="{{min}}" max="{{max}}" value="{{size}}" step="1" class="drawing-board-control-size-range-input"><span class="drawing-board-control-size-range-current"></span></div>',{min:this.opts.min,max:this.opts.max,size:this.board.opts.size})},_dropdownTemplate:function(){var o='<div class="drawing-board-control-inner" title="{{size}}"><div class="drawing-board-control-size-dropdown-current"><span></span></div><ul class="drawing-board-control-size-dropdown">';return $.each(this.opts.dropdownValues,function(t,n){o+=DrawingBoard.Utils.tpl('<li data-size="{{size}}"><span style="width: {{size}}px; height: {{size}}px; border-radius: {{size}}px;"></span></li>',{size:n})}),o+="</ul></div>"},onBoardReset:function(t){this.updateView()},updateView:function(){var o=this.val;if(this.board.ctx.lineWidth=o,this.$el.find(".drawing-board-control-size-range-current, .drawing-board-control-size-dropdown-current span").css({width:o+"px",height:o+"px",borderRadius:o+"px",marginLeft:-1*o/2+"px",marginTop:-1*o/2+"px"}),this.$el.find(".drawing-board-control-inner").attr("title",o),"dropdown"==this.opts.type){var r=null;$.each(this.opts.dropdownValues,function(t,n){(null===r||Math.abs(n-o)<Math.abs(r-o))&&(r=n)}),this.$el.find(".drawing-board-control-size-dropdown").addClass("drawing-board-utils-hidden")}},_iHasRangeInput:function(){var t,n=document.createElement("input"),o=document.documentElement;return n.setAttribute("type","range"),t="text"!==n.type,n.value=":)",n.style.cssText="position:absolute;visibility:hidden;",/^range$/.test("range")&&void 0!==n.style.WebkitAppearance&&(o.appendChild(n),defaultView=document.defaultView,t=defaultView.getComputedStyle&&"textfield"!==defaultView.getComputedStyle(n,null).WebkitAppearance&&0!==n.offsetHeight,o.removeChild(n)),!!t}}),DrawingBoard.Control.Download=DrawingBoard.Control.extend({name:"download",initialize:function(){this.$el.append('<button class="drawing-board-control-download-button"></button>'),this.$el.on("click",".drawing-board-control-download-button",$.proxy(function(t){this.board.downloadImg(),t.preventDefault()},this))}});var s,d,l,c,h;o(1);s=window,d=document,l=0,c=[],(h=function(t){this.options=Object.assign({},t),this.controls=["Color",{Size:{type:"dropdown"}},"Navigation",{DrawingMode:{filler:!1}}],this.init()}).prototype={init:function(){l=this.options.zIndex,this.createBoard()},createBoard:function(){var t=this.getWrapDom();t.style.position="relative";var n=d.createElement("div");n.setAttribute("id","board-"+l),n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.zIndex=l,t.appendChild(n);var o=new window.DrawingBoard.Board(n.id,{background:!1,color:this.options.color,size:this.options.size,controls:this.controls,eraserColor:"background",webStorage:"local"});o.addControl("Download"),c.push({boardItem:o,zIndex:l})},getWrapDom:function(){var t=null;switch(this.options.el[0]){case"#":t=d.getElementById(this.options.el.substr(1));break;case".":t=d.getElementsByClassName(this.options.el.substr(1))[0];break;default:t=d.getElementsByTagName(this.options.el)[0]}return t},getZindex:function(){return l},getBoardInfo:function(){return c}},s.Board=h}]);